{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///src/app/api/helpers/ArcHelper.ts","webpack:///src/app/api/helpers/BoardHelper.ts","webpack:///src/app/api/helpers/PlaceHelper.ts","webpack:///src/app/api/helpers/TransitionHelper.ts","webpack:///src/app/api/models/Arc.ts","webpack:///src/app/api/models/Place.ts","webpack:///src/app/api/models/Transition.ts","webpack:///src/app/api/repositories/ArcRepository.ts","webpack:///src/app/api/repositories/NetRepository.ts","webpack:///src/app/api/repositories/PlaceRepository.ts","webpack:///src/app/api/repositories/TransitionRepository.ts","webpack:///src/app/app.module.ts","webpack:///src/app/app/app.component.ts","webpack:///src/app/app/app.component.html","webpack:///src/app/app/components/board/board.component.ts","webpack:///src/app/app/components/board/board.component.html","webpack:///src/app/app/components/board/side-menu/menu-step-one/menu-step-one.component.ts","webpack:///src/app/app/components/board/side-menu/menu-step-one/menu-step-one.component.html","webpack:///src/app/app/components/board/side-menu/menu-step-three/menu-step-three.component.ts","webpack:///src/app/app/components/board/side-menu/menu-step-three/menu-step-three.component.html","webpack:///src/app/app/components/board/side-menu/menu-step-two/menu-step-two.component.ts","webpack:///src/app/app/components/board/side-menu/menu-step-two/menu-step-two.component.html","webpack:///src/app/app/components/dialogs/clear-board-dialog/clear-board-dialog.component.ts","webpack:///src/app/app/components/dialogs/clear-board-dialog/clear-board-dialog.component.html","webpack:///src/app/app/shared/constants.ts","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","ArcHelper","x","y","element","document","getElementById","getAttribute","includes","parseInt","start_id","start_x","start_y","end_x","end_y","adjustArrowPosition","adjustPlaceTop","adjustTransitionTop","adjustPlaceBottom","adjustTransitionBottom","adjustPlaceLeft","adjustTransitionLeft","adjustPlaceRight","adjustTransitionRight","adjustPlaceTopLeft","adjustTransitionTopLeft","adjustPlaceBottomLeft","adjustTransitionBottomLeft","adjustPlaceTopRight","adjustTransitionTopRight","adjustPlaceBottomRight","adjustTransitionBottomRight","alert","BoardHelper","getElementsByClassName","Array","from","getSelectedElements","filter","selectedEelemnt","startsWith","forEach","classList","remove","setAttribute","selectedElements","addEventListener","detail","preventDefault","defs","createElementNS","marker","path","appendChild","getBoard","index","indexOf","splice","PlaceHelper","x_position","y_position","place","toString","text","innerHTML","append","removeSelectionOfLabel","label","domID","domElement","TransitionHelper","transition","arc_id_prefix","Arc","color","getCoorinatesOfElement","connectToNearestEnd","arc","selectedElementEvents","getDomID","off","on","contains","unselect","select","add","push","removeSelectedElementFromListByID","place_id_prefix","Place","createPlaceWtihLabel","attachListeners","board","event","movePlaceWithLabel","pageX","pageY","move","transition_id_prefix","Transition","createTransitionWithLabel","moveTransitionWithLabel","ArcRepository","snackBar","getSelectedElementsWithoutLabels","isValid","validateConnection","create","removeSelection","validateNumberOfElements","validateObjectsType","validateIfElementIsArc","length","open","panelClass","providedIn","NetRepository","placeRepository","transitionRepository","arcRepository","removeAll","PlaceRepository","places","current_id","find","getID","getByID","TransitionRepository","transitions","AppModule","declarations","imports","providers","bootstrap","entryComponents","AppComponent","dialog","netRepository","title","keyPressEventsHandler","createPlace","createTransition","createArc","which","deleteSelectedElements","elements","removeChild","split","deleteElementByID","duration","clearBoardDialogRef","afterClosed","subscribe","shouldClearBoard","clear","addArrowHeadMarker","removeAllElements","firstChild","addPlace","addTransition","addArc","openClearBoardDialog","saveNet","createPdf","selector","templateUrl","styleUrls","BoardComponent","createPdfEmitter","saveNetEmitter","openClearBoardDialogEmitter","emit","MenuStepOneComponent","addNewPlace","addNewTransition","addNewArc","MenuStepThreeComponent","MenuStepTwoComponent","ClearBoardDialogComponent","dialogRef","deleteChanges","close","place_radius","place_fill_color","transition_width","transition_height","environment","production","bootstrapModule","err","console","error"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,aAASA,wBAAT,CAAkCC,GAAlC,EAAuC;AACtC;AACA;AACA,aAAOC,OAAO,CAACC,OAAR,GAAkBC,IAAlB,CAAuB,YAAW;AACxC,YAAIC,CAAC,GAAG,IAAIC,KAAJ,CAAU,yBAAyBL,GAAzB,GAA+B,GAAzC,CAAR;AACAI,SAAC,CAACE,IAAF,GAAS,kBAAT;AACA,cAAMF,CAAN;AACA,OAJM,CAAP;AAKA;;AACDL,4BAAwB,CAACQ,IAAzB,GAAgC,YAAW;AAAE,aAAO,EAAP;AAAY,KAAzD;;AACAR,4BAAwB,CAACG,OAAzB,GAAmCH,wBAAnC;AACAS,UAAM,CAACC,OAAP,GAAiBV,wBAAjB;AACAA,4BAAwB,CAACW,EAAzB,GAA8B,yCAA9B;;;;;;;;;;;;;;;;ACXA;AAAA;;;AAAA;AAAA;AAAA;;QAAaC,S;;;;;;;+CAEqBD,E,EAAU;AACpC,cAAIE,CAAJ,EAAeC,CAAf;AACA,cAAIC,OAAO,GAAYC,QAAQ,CAACC,cAAT,CAAwBN,EAAxB,CAAvB;;AACA,cAAGI,OAAO,CAACG,YAAR,CAAqB,IAArB,EAA2BC,QAA3B,CAAoC,OAApC,CAAH,EAAiD;AAC7CN,aAAC,GAAGO,QAAQ,CAACL,OAAO,CAACG,YAAR,CAAqB,IAArB,CAAD,CAAZ;AACAJ,aAAC,GAAGM,QAAQ,CAACL,OAAO,CAACG,YAAR,CAAqB,IAArB,CAAD,CAAZ;AACH,WAHD,MAGO;AACHL,aAAC,GAAGO,QAAQ,CAACL,OAAO,CAACG,YAAR,CAAqB,GAArB,CAAD,CAAZ;AACAJ,aAAC,GAAGM,QAAQ,CAACL,OAAO,CAACG,YAAR,CAAqB,GAArB,CAAD,CAAZ;AACH;;AACD,iBAAO,CAACL,CAAD,EAAIC,CAAJ,CAAP;AACH;;;4CAGGO,Q,EAAkBC,O,EAAiBC,O,EACnCC,K,EAAeC,K,EAAa;AAGxB,cAAGJ,QAAQ,CAACF,QAAT,CAAkB,OAAlB,CAAH,EAA+B;AAAA,wCAEvB,KAAKO,mBAAL,CAAyB,OAAzB,EAAkCJ,OAAlC,EAA2CC,OAA3C,EAAoDC,KAApD,EAA2DC,KAA3D,CAFuB;;AAAA;;AAC1BH,mBAD0B;AACjBC,mBADiB;AACRC,iBADQ;AACDC,iBADC;AAG9B,WAHD,MAGO,IAAGJ,QAAQ,CAACF,QAAT,CAAkB,YAAlB,CAAH,EAAoC;AAAA,yCAEvC,KAAKO,mBAAL,CAAyB,YAAzB,EAAuCJ,OAAvC,EAAgDC,OAAhD,EAAyDC,KAAzD,EAAgEC,KAAhE,CAFuC;;AAAA;;AACtCH,mBADsC;AAC7BC,mBAD6B;AACpBC,iBADoB;AACbC,iBADa;AAG1C;;AAEL,iBAAO,CAACH,OAAD,EAAUC,OAAV,EAAmBC,KAAnB,EAA0BC,KAA1B,CAAP;AACH;;;4CAIGJ,Q,EAAkBC,O,EAAiBC,O,EACnCC,K,EAAeC,K,EAAa;AAG5B,cAAGH,OAAO,GAAGE,KAAV,GAAkB,CAAC,EAAnB,IAAyBF,OAAO,GAAGE,KAAV,GAAkB,GAA9C,EAAmD;AAC/C,gBAAGD,OAAO,GAAGE,KAAV,GAAkB,CAArB,EAAwB;AACpB,kBAAGJ,QAAQ,KAAK,OAAhB,EAAyB;AAAA,2CAEjB,KAAKM,cAAL,CAAoBL,OAApB,EAA6BC,OAA7B,EAAsCC,KAAtC,EAA6CC,KAA7C,CAFiB;;AAAA;;AACpBH,uBADoB;AACXC,uBADW;AACFC,qBADE;AACKC,qBADL;AAGxB,eAHD,MAGO;AAAA,4CAEC,KAAKG,mBAAL,CAAyBN,OAAzB,EAAkCC,OAAlC,EAA2CC,KAA3C,EAAkDC,KAAlD,CAFD;;AAAA;;AACFH,uBADE;AACOC,uBADP;AACgBC,qBADhB;AACuBC,qBADvB;AAGN;AACJ,aARD,MASK;AACD,kBAAGJ,QAAQ,KAAK,OAAhB,EAAyB;AAAA,4CAEjB,KAAKQ,iBAAL,CAAuBP,OAAvB,EAAgCC,OAAhC,EAAyCC,KAAzC,EAAgDC,KAAhD,CAFiB;;AAAA;;AACpBH,uBADoB;AACXC,uBADW;AACFC,qBADE;AACKC,qBADL;AAGxB,eAHD,MAGO;AAAA,6CAEC,KAAKK,sBAAL,CAA4BR,OAA5B,EAAqCC,OAArC,EAA8CC,KAA9C,EAAqDC,KAArD,CAFD;;AAAA;;AACFH,uBADE;AACOC,uBADP;AACgBC,qBADhB;AACuBC,qBADvB;AAGN;AACJ;AACJ,WAnBD,MAoBK,IAAGF,OAAO,GAAGE,KAAV,GAAkB,CAAC,EAAnB,IAAyBF,OAAO,GAAGE,KAAV,GAAkB,GAA9C,EAAmD;AACpD,gBAAGH,OAAO,GAAGE,KAAV,GAAkB,CAArB,EAAwB;AACpB,kBAAGH,QAAQ,KAAK,OAAhB,EAAyB;AAAA,4CAEjB,KAAKU,eAAL,CAAqBT,OAArB,EAA8BC,OAA9B,EAAuCC,KAAvC,EAA8CC,KAA9C,CAFiB;;AAAA;;AACpBH,uBADoB;AACXC,uBADW;AACFC,qBADE;AACKC,qBADL;AAGxB,eAHD,MAGO;AAAA,6CAEC,KAAKO,oBAAL,CAA0BV,OAA1B,EAAmCC,OAAnC,EAA4CC,KAA5C,EAAmDC,KAAnD,CAFD;;AAAA;;AACFH,uBADE;AACOC,uBADP;AACgBC,qBADhB;AACuBC,qBADvB;AAGN;AACJ,aARD,MASK;AACD,kBAAGJ,QAAQ,KAAK,OAAhB,EAAyB;AAAA,4CAEjB,KAAKY,gBAAL,CAAsBX,OAAtB,EAA+BC,OAA/B,EAAwCC,KAAxC,EAA+CC,KAA/C,CAFiB;;AAAA;;AAChBH,uBADgB;AACPC,uBADO;AACEC,qBADF;AACSC,qBADT;AAGxB,eAHD,MAGM;AAAA,6CAEE,KAAKS,qBAAL,CAA2BZ,OAA3B,EAAoCC,OAApC,EAA6CC,KAA7C,EAAoDC,KAApD,CAFF;;AAAA;;AACDH,uBADC;AACQC,uBADR;AACiBC,qBADjB;AACwBC,qBADxB;AAGL;AACJ;AACJ,WAnBI,MAqBA,IAAGH,OAAO,GAAGE,KAAV,GAAkB,CAAC,EAAtB,EAA0B;AAC3B,gBAAGD,OAAO,GAAGE,KAAV,GAAkB,EAArB,EAAyB;AACrB,kBAAGJ,QAAQ,KAAK,OAAhB,EAAyB;AAAA,4CAEjB,KAAKc,kBAAL,CAAwBb,OAAxB,EAAiCC,OAAjC,EAA0CC,KAA1C,EAAiDC,KAAjD,CAFiB;;AAAA;;AACpBH,uBADoB;AACXC,uBADW;AACFC,qBADE;AACKC,qBADL;AAGxB,eAHD,MAGO;AAAA,6CAEC,KAAKW,uBAAL,CAA6Bd,OAA7B,EAAsCC,OAAtC,EAA+CC,KAA/C,EAAsDC,KAAtD,CAFD;;AAAA;;AACFH,uBADE;AACOC,uBADP;AACgBC,qBADhB;AACuBC,qBADvB;AAGN;AACJ,aARD,MASK;AACD,kBAAGJ,QAAQ,KAAK,OAAhB,EAAyB;AAAA,6CAEjB,KAAKgB,qBAAL,CAA2Bf,OAA3B,EAAoCC,OAApC,EAA6CC,KAA7C,EAAoDC,KAApD,CAFiB;;AAAA;;AACpBH,uBADoB;AACXC,uBADW;AACFC,qBADE;AACKC,qBADL;AAGxB,eAHD,MAGO;AAAA,8CAEC,KAAKa,0BAAL,CAAgChB,OAAhC,EAAyCC,OAAzC,EAAkDC,KAAlD,EAAyDC,KAAzD,CAFD;;AAAA;;AACFH,uBADE;AACOC,uBADP;AACgBC,qBADhB;AACuBC,qBADvB;AAGN;AACJ;AACJ,WAnBI,MAqBA,IAAGH,OAAO,GAAGE,KAAV,GAAkB,GAArB,EAA0B;AAC3B,gBAAGD,OAAO,GAAGE,KAAV,GAAkB,EAArB,EAAyB;AACrB,kBAAGJ,QAAQ,KAAK,OAAhB,EAAyB;AAAA,4CAEjB,KAAKkB,mBAAL,CAAyBjB,OAAzB,EAAkCC,OAAlC,EAA2CC,KAA3C,EAAkDC,KAAlD,CAFiB;;AAAA;;AACpBH,uBADoB;AACXC,uBADW;AACFC,qBADE;AACKC,qBADL;AAGxB,eAHD,MAGO;AAAA,8CAEC,KAAKe,wBAAL,CAA8BlB,OAA9B,EAAuCC,OAAvC,EAAgDC,KAAhD,EAAuDC,KAAvD,CAFD;;AAAA;;AACFH,uBADE;AACOC,uBADP;AACgBC,qBADhB;AACuBC,qBADvB;AAGN;AAEJ,aATD,MAUK;AACD,kBAAGJ,QAAQ,KAAK,OAAhB,EAAyB;AAAA,6CAEjB,KAAKoB,sBAAL,CAA4BnB,OAA5B,EAAqCC,OAArC,EAA8CC,KAA9C,EAAqDC,KAArD,CAFiB;;AAAA;;AACpBH,uBADoB;AACXC,uBADW;AACFC,qBADE;AACKC,qBADL;AAGxB,eAHD,MAGO;AAAA,8CAEC,KAAKiB,2BAAL,CAAiCpB,OAAjC,EAA0CC,OAA1C,EAAmDC,KAAnD,EAA0DC,KAA1D,CAFD;;AAAA;;AACFH,uBADE;AACOC,uBADP;AACgBC,qBADhB;AACuBC,qBADvB;AAGN;AACJ;AACJ,WApBI,MAoBE;AACHkB,iBAAK,CAAC,oBAAD,CAAL;AACH;;AAED,iBAAO,CAACrB,OAAD,EAAUC,OAAV,EAAmBC,KAAnB,EAA0BC,KAA1B,CAAP;AACH,S,CAED;AACA;AACA;;;;uCACsBH,O,EAASC,O,EAASC,K,EAAOC,K,EAAK;AAChD,iBAAO,CAACH,OAAD,EAAUC,OAAO,GAAG,EAApB,EAAwBC,KAAK,GAAG,EAAhC,EAAoCC,KAAK,GAAG,CAA5C,CAAP;AACH;;;2CAEyBH,O,EAASC,O,EAASC,K,EAAOC,K,EAAK;AACpD,iBAAO,CAACH,OAAO,GAAG,IAAX,EAAiBC,OAAO,GAAG,IAA3B,EAAiCC,KAAK,GAAG,EAAzC,EAA6CC,KAAK,GAAG,CAArD,CAAP;AACH;;;4CAE0BH,O,EAASC,O,EAASC,K,EAAOC,K,EAAK;AACrD,iBAAO,CAACH,OAAO,GAAG,IAAX,EAAiBC,OAAO,GAAG,IAA3B,EAAiCC,KAAK,GAAG,EAAzC,EAA6CC,KAAK,GAAG,CAArD,CAAP;AACH;;;0CAEwBH,O,EAASC,O,EAASC,K,EAAOC,K,EAAK;AACnD,iBAAO,CAACH,OAAD,EAAUC,OAAO,GAAG,EAApB,EAAwBC,KAAK,GAAG,EAAhC,EAAoCC,KAAK,GAAG,EAA5C,CAAP;AACH;;;8CAE4BH,O,EAASC,O,EAASC,K,EAAOC,K,EAAK;AACvD,iBAAO,CAACH,OAAO,GAAG,IAAX,EAAiBC,OAAO,GAAG,IAA3B,EAAiCC,KAAK,GAAG,EAAzC,EAA6CC,KAAK,GAAG,EAArD,CAAP;AACH;;;+CAE6BH,O,EAASC,O,EAASC,K,EAAOC,K,EAAK;AACxD,iBAAO,CAACH,OAAO,GAAG,IAAX,EAAiBC,OAAO,GAAG,IAA3B,EAAiCC,KAAK,GAAG,EAAzC,EAA6CC,KAAK,GAAG,EAArD,CAAP;AACH;;;wCAEsBH,O,EAASC,O,EAASC,K,EAAOC,K,EAAK;AACjD,iBAAO,CAACH,OAAO,GAAG,EAAX,EAAeC,OAAf,EAAwBC,KAAK,GAAG,CAAhC,EAAmCC,KAAK,GAAG,EAA3C,CAAP;AACH;;;yCAEuBH,O,EAASC,O,EAASC,K,EAAOC,K,EAAK;AAClD,iBAAO,CAACH,OAAO,GAAG,EAAX,EAAeC,OAAf,EAAwBC,KAAK,GAAG,EAAhC,EAAoCC,KAAK,GAAG,EAA5C,CAAP;AACH,S,CAED;AACA;AACA;;;;4CAC2BH,O,EAASC,O,EAASC,K,EAAOC,K,EAAK;AACrD,iBAAO,CAACH,OAAO,GAAG,EAAX,EAAeC,OAAO,GAAG,EAAzB,EAA6BC,KAA7B,EAAoCC,KAAK,GAAG,EAA5C,CAAP;AACH;;;gDAE8BH,O,EAASC,O,EAASC,K,EAAOC,K,EAAK;AACzD,iBAAO,CAACH,OAAO,GAAG,EAAX,EAAeC,OAAO,GAAG,EAAzB,EAA6BC,KAAK,GAAG,EAArC,EAAyCC,KAAK,GAAG,EAAjD,CAAP;AACH;;;iDAE+BH,O,EAASC,O,EAASC,K,EAAOC,K,EAAK;AAC1D,iBAAO,CAACH,OAAO,GAAG,EAAX,EAAeC,OAAO,GAAG,EAAzB,EAA6BC,KAAK,GAAG,EAArC,EAAyCC,KAAK,GAAG,EAAjD,CAAP;AACH;;;+CAE6BH,O,EAASC,O,EAASC,K,EAAOC,K,EAAK;AACxD,iBAAO,CAACH,OAAO,GAAG,EAAX,EAAeC,OAAf,EAAwBC,KAAxB,EAA+BC,KAAK,GAAG,EAAvC,CAAP;AACH;;;mDAEiCH,O,EAASC,O,EAASC,K,EAAOC,K,EAAK;AAC5D,iBAAO,CAACH,OAAO,GAAG,EAAX,EAAeC,OAAf,EAAwBC,KAAK,GAAG,EAAhC,EAAoCC,KAAK,GAAG,EAA5C,CAAP;AACH;;;oDAEkCH,O,EAASC,O,EAASC,K,EAAOC,K,EAAK;AAC7D,iBAAO,CAACH,OAAO,GAAG,EAAX,EAAeC,OAAf,EAAwBC,KAAK,GAAG,EAAhC,EAAoCC,KAAK,GAAG,EAA5C,CAAP;AACH;;;6CAE2BH,O,EAASC,O,EAASC,K,EAAOC,K,EAAK;AACtD,iBAAO,CAACH,OAAO,GAAG,EAAX,EAAeC,OAAO,GAAG,EAAzB,EAA6BC,KAAK,GAAG,EAArC,EAAyCC,KAAzC,CAAP;AACH;;;8CAE4BH,O,EAASC,O,EAASC,K,EAAOC,K,EAAK;AACvD,iBAAO,CAACH,OAAD,EAAUC,OAAO,GAAG,EAApB,EAAwBC,KAAK,GAAG,EAAhC,EAAoCC,KAApC,CAAP;AACH;;;;;;;;;;;;;;;;;;;;;ACnML;AAAA;;;AAAA;AAAA;AAAA;;QAAamB,W;;;;;;;8CAGiB;AACtB,iBAAO5B,QAAQ,CAAC6B,sBAAT,CAAgC,UAAhC,CAAP;AACH;;;2DAEsC;AACnC,iBAAOC,KAAK,CAACC,IAAN,CAAW,KAAKC,mBAAL,EAAX,EAAuCC,MAAvC,CAA8C,UAAAC,eAAe,EAAI;AACpE,mBAAO,CAACA,eAAe,CAAChC,YAAhB,CAA6B,IAA7B,EAAmCiC,UAAnC,CAA8C,OAA9C,CAAR;AACH,WAFM,CAAP;AAGH;;;0CAEqB;AAClBL,eAAK,CAACC,IAAN,CAAW,KAAKC,mBAAL,EAAX,EAAuCI,OAAvC,CAA+C,UAAArC,OAAO,EAAI;AACtDA,mBAAO,CAACsC,SAAR,CAAkBC,MAAlB,CAAyB,UAAzB;;AACA,gBAAG,CAACvC,OAAO,CAACG,YAAR,CAAqB,IAArB,EAA2BC,QAA3B,CAAoC,OAApC,CAAJ,EAAkD;AAC9CJ,qBAAO,CAACwC,YAAR,CAAqB,QAArB,EAA+B,OAA/B;AACH;AACJ,WALD;AAMA,eAAKC,gBAAL,GAAwB,EAAxB;AACH;;;mCAEc;AACX,iBAAOxC,QAAQ,CAACC,cAAT,CAAwB,WAAxB,CAAP;AACH;;;+CAE6BF,O,EAAmB;AAC7CA,iBAAO,CAAC0C,gBAAR,CAAyB,WAAzB,EAAsC,UAASpD,CAAT,EAAU;AAC5C,gBAAIA,CAAC,CAACqD,MAAF,GAAW,CAAf,EAAiB;AACbrD,eAAC,CAACsD,cAAF;AACH;AACJ,WAJD;AAKH;;;6CAE2B;AACxB,cAAIC,IAAI,GAAG5C,QAAQ,CAAC6C,eAAT,CAAyB,4BAAzB,EAAsD,MAAtD,CAAX;AACA,cAAIC,MAAM,GAAG9C,QAAQ,CAAC6C,eAAT,CAAyB,4BAAzB,EAAuD,QAAvD,CAAb;AAEAC,gBAAM,CAACP,YAAP,CAAoB,IAApB,EAA0B,OAA1B;AACAO,gBAAM,CAACP,YAAP,CAAoB,SAApB,EAA+B,WAA/B;AACAO,gBAAM,CAACP,YAAP,CAAoB,MAApB,EAA4B,GAA5B;AACAO,gBAAM,CAACP,YAAP,CAAoB,MAApB,EAA4B,GAA5B;AACAO,gBAAM,CAACP,YAAP,CAAoB,aAApB,EAAmC,IAAnC;AACAO,gBAAM,CAACP,YAAP,CAAoB,cAApB,EAAoC,IAApC;AACAO,gBAAM,CAACP,YAAP,CAAoB,QAApB,EAA8B,MAA9B;AAEA,cAAIQ,IAAI,GAAG/C,QAAQ,CAAC6C,eAAT,CAAyB,4BAAzB,EAAuD,MAAvD,CAAX;AACAE,cAAI,CAACR,YAAL,CAAkB,GAAlB,EAAuB,uBAAvB;AACAQ,cAAI,CAACR,YAAL,CAAkB,MAAlB,EAA0B,QAA1B;AAEAO,gBAAM,CAACE,WAAP,CAAmBD,IAAnB;AACAH,cAAI,CAACI,WAAL,CAAiBF,MAAjB;AACA,eAAKG,QAAL,GAAgBD,WAAhB,CAA4BJ,IAA5B;AACH;;;0DAEwCjD,E,EAAY;AACjD,cAAIuD,KAAK,GAAG,KAAKV,gBAAL,CAAsBW,OAAtB,CAA8BxD,EAA9B,CAAZ;;AACA,cAAIuD,KAAK,KAAK,CAAC,CAAf,EAAkB;AACd,iBAAKV,gBAAL,CAAsBY,MAAtB,CAA6BF,KAA7B,EAAoC,CAApC;AACH;AACJ;;;;;;AA5DM,gBAAAV,gBAAA,GAA6B,EAA7B;;;;;;;;;;;;;;;;ACDX;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAGaa,W;;;;;;;6CAEmB1D,E,EAAY2D,U,EAAoBC,U,EAAkB;AAC1E,cAAIC,KAAK,GAAGxD,QAAQ,CAAC6C,eAAT,CAAyB,4BAAzB,EAAuD,QAAvD,CAAZ;AAEAW,eAAK,CAACjB,YAAN,CAAmB,IAAnB,EAAyB,WAAW5C,EAApC;AACA6D,eAAK,CAACjB,YAAN,CAAmB,OAAnB,EAA4B,mBAA5B;AACAiB,eAAK,CAACjB,YAAN,CAAmB,IAAnB,EAAyBe,UAAU,CAACG,QAAX,EAAzB;AACAD,eAAK,CAACjB,YAAN,CAAmB,IAAnB,EAAyBgB,UAAU,CAACE,QAAX,EAAzB;AACAD,eAAK,CAACjB,YAAN,CAAmB,GAAnB,EAAwB,mEAAakB,QAAb,EAAxB;AACAD,eAAK,CAACjB,YAAN,CAAmB,QAAnB,EAA6B,OAA7B;AACAiB,eAAK,CAACjB,YAAN,CAAmB,MAAnB,EAA2B,sEAA3B;AACAiB,eAAK,CAACjB,YAAN,CAAmB,OAAnB,EAA4B,iBAA5B;AAEA,cAAImB,IAAI,GAAG1D,QAAQ,CAAC6C,eAAT,CAAyB,4BAAzB,EAAuD,MAAvD,CAAX;AACAa,cAAI,CAACnB,YAAL,CAAkB,IAAlB,EAAwB,iBAAiB5C,EAAzC;AACA+D,cAAI,CAACnB,YAAL,CAAkB,GAAlB,EAAuBe,UAAU,CAACG,QAAX,EAAvB;AACAC,cAAI,CAACnB,YAAL,CAAkB,GAAlB,EAAuBgB,UAAU,CAACE,QAAX,EAAvB;AACAC,cAAI,CAACnB,YAAL,CAAkB,MAAlB,EAA0B,OAA1B;AACAmB,cAAI,CAACnB,YAAL,CAAkB,IAAlB,EAAwB,MAAxB;AACAmB,cAAI,CAACnB,YAAL,CAAkB,aAAlB,EAAiC,QAAjC;AACAmB,cAAI,CAACnB,YAAL,CAAkB,WAAlB,EAA+B,MAA/B;AACAmB,cAAI,CAACC,SAAL,GAAiB,MAAMhE,EAAvB;;AAEA,mEAAYsD,QAAZ,GAAuBW,MAAvB,CAA8BJ,KAA9B;;AACA,mEAAYP,QAAZ,GAAuBW,MAAvB,CAA8BF,IAA9B;;AACA,mEAAYG,sBAAZ,CAAmCL,KAAnC;AACH;;;2CAEyBA,K,EAAoBM,K,EAAoBR,U,EAAoBC,U,EAAkB;AACpG,cAAM1D,CAAC,GAAIyD,UAAU,GAAG,GAAxB;AACA,cAAMxD,CAAC,GAAIyD,UAAU,GAAG,EAAxB;AACAC,eAAK,CAACjB,YAAN,CAAmB,IAAnB,EAAyB1C,CAAC,CAAC4D,QAAF,EAAzB;AACAD,eAAK,CAACjB,YAAN,CAAmB,IAAnB,EAAyBzC,CAAC,CAAC2D,QAAF,EAAzB;AAEAK,eAAK,CAACvB,YAAN,CAAmB,GAAnB,EAAwB1C,CAAC,CAAC4D,QAAF,EAAxB;AACAK,eAAK,CAACvB,YAAN,CAAmB,GAAnB,EAAwBzC,CAAC,CAAC2D,QAAF,EAAxB;AACH;;;6CAE2B9D,E,EAAU;AAClC,cAAIoE,KAAK,GAAG,WAAWpE,EAAvB;AACA,cAAIqE,UAAU,GAAGhE,QAAQ,CAACC,cAAT,CAAwB8D,KAAxB,CAAjB;AACA,iBAAO,CAAC3D,QAAQ,CAAC4D,UAAU,CAAC9D,YAAX,CAAwB,IAAxB,CAAD,CAAT,EAA0CE,QAAQ,CAAC4D,UAAU,CAAC9D,YAAX,CAAwB,IAAxB,CAAD,CAAlD,CAAP;AACH;;;;;;;;;;;;;;;;;;;;;AC9CL;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAGa+D,gB;;;;;;;kDAEwBtE,E,EAAY2D,U,EAAoBC,U,EAAkB;AAC/E,cAAIW,UAAU,GAAGlE,QAAQ,CAAC6C,eAAT,CAAyB,4BAAzB,EAAuD,MAAvD,CAAjB;AAEAqB,oBAAU,CAAC3B,YAAX,CAAwB,IAAxB,EAA8B,gBAAgB5C,EAA9C;AACAuE,oBAAU,CAAC3B,YAAX,CAAwB,OAAxB,EAAiC,wBAAjC;AACA2B,oBAAU,CAAC3B,YAAX,CAAwB,GAAxB,EAA6Be,UAAU,CAACG,QAAX,EAA7B;AACAS,oBAAU,CAAC3B,YAAX,CAAwB,GAAxB,EAA6BgB,UAAU,CAACE,QAAX,EAA7B;AACAS,oBAAU,CAAC3B,YAAX,CAAwB,OAAxB,EAAiC,uEAAiBkB,QAAjB,EAAjC;AACAS,oBAAU,CAAC3B,YAAX,CAAwB,QAAxB,EAAkC,wEAAkBkB,QAAlB,EAAlC;AACAS,oBAAU,CAAC3B,YAAX,CAAwB,OAAxB,EAAiC,iBAAjC;AAEA,cAAImB,IAAI,GAAG1D,QAAQ,CAAC6C,eAAT,CAAyB,4BAAzB,EAAuD,MAAvD,CAAX;AACAa,cAAI,CAACnB,YAAL,CAAkB,IAAlB,EAAwB,sBAAsB5C,EAA9C;AACA+D,cAAI,CAACnB,YAAL,CAAkB,GAAlB,EAAuB,CAACe,UAAU,GAAG,EAAd,EAAkBG,QAAlB,EAAvB;AACAC,cAAI,CAACnB,YAAL,CAAkB,GAAlB,EAAuB,CAACgB,UAAU,GAAG,EAAd,EAAkBE,QAAlB,EAAvB;AACAC,cAAI,CAACnB,YAAL,CAAkB,MAAlB,EAA0B,OAA1B;AACAmB,cAAI,CAACnB,YAAL,CAAkB,IAAlB,EAAwB,MAAxB;AACAmB,cAAI,CAACnB,YAAL,CAAkB,aAAlB,EAAiC,QAAjC;AACAmB,cAAI,CAACnB,YAAL,CAAkB,WAAlB,EAA+B,MAA/B;AACAmB,cAAI,CAACC,SAAL,GAAiB,MAAMhE,EAAvB;;AAEA,mEAAYsD,QAAZ,GAAuBW,MAAvB,CAA8BM,UAA9B;;AACA,mEAAYjB,QAAZ,GAAuBW,MAAvB,CAA8BF,IAA9B;;AACA,mEAAYG,sBAAZ,CAAmCK,UAAnC;AACH;;;gDAE8BA,U,EAAyBJ,K,EAAoBR,U,EAAoBC,U,EAAkB;AAC9GW,oBAAU,CAAC3B,YAAX,CAAwB,GAAxB,EAA6B,CAACe,UAAU,GAAG,GAAd,EAAmBG,QAAnB,EAA7B;AACAS,oBAAU,CAAC3B,YAAX,CAAwB,GAAxB,EAA6B,CAACgB,UAAU,GAAG,EAAd,EAAkBE,QAAlB,EAA7B;AAEAK,eAAK,CAACvB,YAAN,CAAmB,GAAnB,EAAwB,CAACe,UAAU,GAAG,GAAd,EAAmBG,QAAnB,EAAxB;AACAK,eAAK,CAACvB,YAAN,CAAmB,GAAnB,EAAwB,CAACgB,UAAU,GAAG,EAAd,EAAkBE,QAAlB,EAAxB;AACH;;;+CAE6B9D,E,EAAU;AACpC,cAAIoE,KAAK,GAAG,gBAAgBpE,EAA5B;AACA,cAAIqE,UAAU,GAAGhE,QAAQ,CAACC,cAAT,CAAwB8D,KAAxB,CAAjB;AACA,iBAAO,CAAC3D,QAAQ,CAAC4D,UAAU,CAAC9D,YAAX,CAAwB,GAAxB,CAAD,CAAT,EAAyCE,QAAQ,CAAC4D,UAAU,CAAC9D,YAAX,CAAwB,GAAxB,CAAD,CAAjD,CAAP;AACH;;;;;;;;;;;;;;;;;;;;;AC3CL;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;;AAKA,QAAMiE,aAAa,GAAG,MAAtB;;QAEaC,G;AAIT,qBAAc;AAAA;;AAFd,aAAAC,KAAA,GAAgB,OAAhB;AAGI,aAAK1E,EAAL,GACIK,QAAQ,CAACC,cAAT,CAAwB,iEAAYuC,gBAAZ,CAA6B,CAA7B,CAAxB,EAAyDtC,YAAzD,CAAsE,IAAtE,IACA,GADA,GAEAF,QAAQ,CAACC,cAAT,CAAwB,iEAAYuC,gBAAZ,CAA6B,CAA7B,CAAxB,EAAyDtC,YAAzD,CAAsE,IAAtE,CAHJ;AAIH;;;;gCAEI;AACD,iBAAO,KAAKP,EAAZ;AACH;;;iCAEK;AAAA,sCACuB,6DAAU2E,sBAAV,CAAiC,iEAAY9B,gBAAZ,CAA6B,CAA7B,CAAjC,CADvB;AAAA;AAAA,cACGlC,OADH;AAAA,cACYC,OADZ;;AAAA,uCAEmB,6DAAU+D,sBAAV,CAAiC,iEAAY9B,gBAAZ,CAA6B,CAA7B,CAAjC,CAFnB;AAAA;AAAA,cAEGhC,KAFH;AAAA,cAEUC,KAFV;;AAAA,uCAKF,6DAAU8D,mBAAV,CAC4B,iEAAY/B,gBAAZ,CAA6B,CAA7B,CAD5B,EAC6DlC,OAD7D,EACsEC,OADtE,EAE6BC,KAF7B,EAEoCC,KAFpC,CALE;;AAAA;;AAIDH,iBAJC;AAIQC,iBAJR;AAIiBC,eAJjB;AAIwBC,eAJxB;AASF,cAAI+D,GAAG,GAAGxE,QAAQ,CAAC6C,eAAT,CAAyB,4BAAzB,EAAuD,MAAvD,CAAV;AAEA2B,aAAG,CAACjC,YAAJ,CAAiB,IAAjB,EAAuB,SAAS,KAAK5C,EAArC;AACA6E,aAAG,CAACjC,YAAJ,CAAiB,OAAjB,EAA0B,iBAA1B;AACAiC,aAAG,CAACjC,YAAJ,CAAiB,IAAjB,EAAuBjC,OAAO,CAACmD,QAAR,EAAvB;AACAe,aAAG,CAACjC,YAAJ,CAAiB,IAAjB,EAAuBhC,OAAO,CAACkD,QAAR,EAAvB;AACAe,aAAG,CAACjC,YAAJ,CAAiB,IAAjB,EAAuB/B,KAAK,CAACiD,QAAN,EAAvB;AACAe,aAAG,CAACjC,YAAJ,CAAiB,IAAjB,EAAuB9B,KAAK,CAACgD,QAAN,EAAvB;AACAe,aAAG,CAACjC,YAAJ,CAAiB,QAAjB,EAA2B,OAA3B;AACAiC,aAAG,CAACjC,YAAJ,CAAiB,YAAjB,EAA+B,aAA/B;AACAvC,kBAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqC2D,MAArC,CAA4CY,GAA5C;AAEA,eAAKC,qBAAL;AACH;;;+BAEG;AACA,gBAAM,IAAInF,KAAJ,CAAU,yBAAV,CAAN;AACH;;;gDAEuB;AAAA;;AACpB,cAAIkF,GAAG,GAAGxE,QAAQ,CAACC,cAAT,CAAwB,KAAKyE,QAAL,EAAxB,CAAV;AACA,6CAAC,CAACF,GAAD,CAAD,CAAOG,GAAP,CAAW,UAAX;AACA,6CAAC,CAACH,GAAD,CAAD,CAAOI,EAAP,CAAU,UAAV,EAAsB,YAAM;AACxB,gBAAGJ,GAAG,CAACnC,SAAJ,CAAcwC,QAAd,CAAuB,UAAvB,CAAH,EAAuC;AACnC,mBAAI,CAACC,QAAL,CAAcN,GAAd;AACH,aAFD,MAEO;AACH,mBAAI,CAACO,MAAL,CAAYP,GAAZ;AACH;AACJ,WAND;AAOH;;;+BAEMA,G,EAAgB;AACnBA,aAAG,CAACnC,SAAJ,CAAc2C,GAAd,CAAkB,UAAlB;AACAR,aAAG,CAACjC,YAAJ,CAAiB,QAAjB,EAA2B,KAA3B;;AACA,2EAAYC,gBAAZ,CAA6ByC,IAA7B,CAAkCT,GAAG,CAACtE,YAAJ,CAAiB,IAAjB,CAAlC;AACH;;;iCAEQsE,G,EAAgB;AACrBA,aAAG,CAACnC,SAAJ,CAAcC,MAAd,CAAqB,UAArB;AACAkC,aAAG,CAACjC,YAAJ,CAAiB,QAAjB,EAA2B,OAA3B;;AACA,2EAAY2C,iCAAZ,CAA8CV,GAAG,CAACtE,YAAJ,CAAiB,IAAjB,CAA9C;AACH;;;mCAEe;AACZ,iBAAOiE,aAAa,GAAG,KAAKxE,EAA5B;AACH;;;;;;;;;;;;;;;;;;;;;AC5EL;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;;AAKA,QAAMwF,eAAe,GAAG,QAAxB;;QAEaC,K;AAIT,qBAAYzF,EAAZ,EAAwB;AAAA;;AAFxB,aAAA0E,KAAA,GAAgB,OAAhB;AAGI,aAAK1E,EAAL,GAAUA,EAAV;AACH;;;;gCAEI;AACD,iBAAO,KAAKA,EAAZ;AACH;;;iCAEK;AACF,2EAAY0F,oBAAZ,CAAiC,KAAK1F,EAAtC,EAA0C,GAA1C,EAA+C,GAA/C;;AACA,eAAK2F,eAAL;AACH;;;gDAEuB;AAAA;;AACpB,cAAI9B,KAAK,GAAGxD,QAAQ,CAACC,cAAT,CAAwB,KAAKyE,QAAL,EAAxB,CAAZ;AACA,cAAIZ,KAAK,GAAG9D,QAAQ,CAACC,cAAT,CAAwB,WAAW,KAAKyE,QAAL,EAAnC,CAAZ;AACA,6CAAC,CAAClB,KAAD,CAAD,CAASmB,GAAT,CAAa,UAAb;AACA,6CAAC,CAACnB,KAAD,CAAD,CAASoB,EAAT,CAAY,UAAZ,EAAwB,YAAM;AAC1B,gBAAGpB,KAAK,CAACnB,SAAN,CAAgBwC,QAAhB,CAAyB,UAAzB,CAAH,EAAyC;AACrC,oBAAI,CAACC,QAAL,CAActB,KAAd,EAAqBM,KAArB;AACH,aAFD,MAEO;AACH,oBAAI,CAACiB,MAAL,CAAYvB,KAAZ,EAAmBM,KAAnB;AACH;AACJ,WAND;AAOH;;;+BAEMN,K,EAAoBM,K,EAAkB;AACzCN,eAAK,CAACnB,SAAN,CAAgB2C,GAAhB,CAAoB,UAApB;AACAlB,eAAK,CAACzB,SAAN,CAAgB2C,GAAhB,CAAoB,UAApB;AACAxB,eAAK,CAACjB,YAAN,CAAmB,QAAnB,EAA6B,KAA7B;;AACA,2EAAYC,gBAAZ,CAA6ByC,IAA7B,CAAkCzB,KAAK,CAACtD,YAAN,CAAmB,IAAnB,CAAlC;AACH;;;iCAEQsD,K,EAAoBM,K,EAAkB;AAC3CN,eAAK,CAACnB,SAAN,CAAgBC,MAAhB,CAAuB,UAAvB;AACAwB,eAAK,CAACzB,SAAN,CAAgBC,MAAhB,CAAuB,UAAvB;AACAkB,eAAK,CAACjB,YAAN,CAAmB,QAAnB,EAA6B,OAA7B;;AACA,2EAAY2C,iCAAZ,CAA8C1B,KAAK,CAACtD,YAAN,CAAmB,IAAnB,CAA9C;AACH;;;+BAEG;AACA,cAAIsD,KAAK,GAAGxD,QAAQ,CAACC,cAAT,CAAwB,KAAKyE,QAAL,EAAxB,CAAZ;AACA,cAAIZ,KAAK,GAAG9D,QAAQ,CAACC,cAAT,CAAwB,WAAW,KAAKyE,QAAL,EAAnC,CAAZ;AACA,cAAIa,KAAK,GAAGvF,QAAQ,CAACC,cAAT,CAAwB,WAAxB,CAAZ;AAEA,6CAAC,CAACuD,KAAD,CAAD,CAASmB,GAAT,CAAa,WAAb;AACA,6CAAC,CAACnB,KAAD,CAAD,CAASoB,EAAT,CAAY,WAAZ,EAAyB,YAAM;AAC3BpB,iBAAK,CAACnB,SAAN,CAAgB2C,GAAhB,CAAoB,QAApB;AAEA,+CAAC,CAACO,KAAD,CAAD,CAASZ,GAAT,CAAa,WAAb;AACA,+CAAC,CAACY,KAAD,CAAD,CAASX,EAAT,CAAY,WAAZ,EAAyB,UAACY,KAAD,EAAW;AAChC,+EAAYC,kBAAZ,CAA+BjC,KAA/B,EAAsCM,KAAtC,EAA6C0B,KAAK,CAACE,KAAnD,EAA0DF,KAAK,CAACG,KAAhE;AACH,aAFD;AAIA,+CAAC,CAACJ,KAAD,CAAD,CAASZ,GAAT,CAAa,SAAb;AACA,+CAAC,CAACY,KAAD,CAAD,CAASX,EAAT,CAAY,SAAZ,EAAuB,YAAM;AACzB,iDAAC,CAACW,KAAD,CAAD,CAASZ,GAAT,CAAa,WAAb;AACAnB,mBAAK,CAACnB,SAAN,CAAgBC,MAAhB,CAAuB,QAAvB;AACH,aAHD;AAIH,WAbD;AAcH,S,CAED;;;;kCACO;AACH,gBAAM,IAAIhD,KAAJ,CAAU,yBAAV,CAAN;AACH;;;0CAEsB;AACnB,eAAKmF,qBAAL;AACA,eAAKmB,IAAL;AACH;;;mCAEe;AACZ,iBAAOT,eAAe,GAAG,KAAKxF,EAA9B;AACH;;;;;;;;;;;;;;;;;;;;;ACrFL;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;;AAKA,QAAMkG,oBAAoB,GAAG,aAA7B;;QAEaC,U;AAIT,0BAAYnG,EAAZ,EAAwB;AAAA;;AAFxB,aAAA0E,KAAA,GAAgB,OAAhB;AAGI,aAAK1E,EAAL,GAAUA,EAAV;AACH;;;;gCAEI;AACD,iBAAO,KAAKA,EAAZ;AACH;;;iCAEK;AACF,qFAAiBoG,yBAAjB,CAA2C,KAAKpG,EAAhD,EAAoD,GAApD,EAAyD,GAAzD;;AACA,eAAK2F,eAAL;AACH;;;gDAEuB;AAAA;;AACpB,cAAIpB,UAAU,GAAGlE,QAAQ,CAACC,cAAT,CAAwB,KAAKyE,QAAL,EAAxB,CAAjB;AACA,cAAIZ,KAAK,GAAG9D,QAAQ,CAACC,cAAT,CAAwB,WAAW,KAAKyE,QAAL,EAAnC,CAAZ;AAEA,6CAAC,CAACR,UAAD,CAAD,CAAcS,GAAd,CAAkB,UAAlB;AACA,6CAAC,CAACT,UAAD,CAAD,CAAcU,EAAd,CAAiB,UAAjB,EAA6B,YAAM;AAC/B,gBAAGV,UAAU,CAAC7B,SAAX,CAAqBwC,QAArB,CAA8B,UAA9B,CAAH,EAA8C;AAC1C,oBAAI,CAACC,QAAL,CAAcZ,UAAd,EAA0BJ,KAA1B;AACH,aAFD,MAEO;AACH,oBAAI,CAACiB,MAAL,CAAYb,UAAZ,EAAwBJ,KAAxB;AACH;AACJ,WAND;AAOH;;;+BAEMI,U,EAAyBJ,K,EAAkB;AAC9CI,oBAAU,CAAC7B,SAAX,CAAqB2C,GAArB,CAAyB,UAAzB;AACAlB,eAAK,CAACzB,SAAN,CAAgB2C,GAAhB,CAAoB,UAApB;AACAd,oBAAU,CAAC3B,YAAX,CAAwB,QAAxB,EAAkC,KAAlC;;AACA,2EAAYC,gBAAZ,CAA6ByC,IAA7B,CAAkCf,UAAU,CAAChE,YAAX,CAAwB,IAAxB,CAAlC;AACH;;;iCAEQgE,U,EAAyBJ,K,EAAkB;AAChDI,oBAAU,CAAC7B,SAAX,CAAqBC,MAArB,CAA4B,UAA5B;AACAwB,eAAK,CAACzB,SAAN,CAAgBC,MAAhB,CAAuB,UAAvB;AACA4B,oBAAU,CAAC3B,YAAX,CAAwB,QAAxB,EAAkC,OAAlC;;AACA,2EAAY2C,iCAAZ,CAA8ChB,UAAU,CAAChE,YAAX,CAAwB,IAAxB,CAA9C;AACH;;;+BAEG;AACA,cAAIgE,UAAU,GAAGlE,QAAQ,CAACC,cAAT,CAAwB,KAAKyE,QAAL,EAAxB,CAAjB;AACA,cAAIZ,KAAK,GAAG9D,QAAQ,CAACC,cAAT,CAAwB,WAAW,KAAKyE,QAAL,EAAnC,CAAZ;AACA,cAAIa,KAAK,GAAGvF,QAAQ,CAACC,cAAT,CAAwB,WAAxB,CAAZ;AAEA,6CAAC,CAACiE,UAAD,CAAD,CAAcS,GAAd,CAAkB,WAAlB;AACAT,oBAAU,CAACzB,gBAAX,CAA4B,WAA5B,EAAyC,YAAM;AAC3CyB,sBAAU,CAAC7B,SAAX,CAAqB2C,GAArB,CAAyB,QAAzB;AACA,+CAAC,CAACO,KAAD,CAAD,CAASX,EAAT,CAAY,WAAZ,EAAyB,UAACY,KAAD,EAAW;AAChC,yFAAiBQ,uBAAjB,CAAyC9B,UAAzC,EAAqDJ,KAArD,EAA4D0B,KAAK,CAACE,KAAlE,EAAyEF,KAAK,CAACG,KAA/E;AACH,aAFD;AAIA,+CAAC,CAACJ,KAAD,CAAD,CAASX,EAAT,CAAY,SAAZ,EAAuB,YAAM;AACzB,iDAAC,CAACW,KAAD,CAAD,CAASZ,GAAT,CAAa,WAAb;AACAT,wBAAU,CAAC7B,SAAX,CAAqBC,MAArB,CAA4B,QAA5B;AACH,aAHD;AAIH,WAVD;AAWH;;;0CAEsB;AACnB,eAAKmC,qBAAL;AACA,eAAKmB,IAAL;AACH;;;mCAEe;AACZ,iBAAOC,oBAAoB,GAAG,KAAKlG,EAAnC;AACH;;;;;;;;;;;;;;;;;;;;;AC5EL;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAOasG,a;AAET,6BAAoBC,QAApB,EAA2C;AAAA;;AAAvB,aAAAA,QAAA,GAAAA,QAAA;AAAyB;;;;iCAEvC;AACF,cAAI1D,gBAAgB,GAAc,iEAAY2D,gCAAZ,EAAlC;;AACA,cAAIC,OAAO,GAAG,KAAKC,kBAAL,CAAwB7D,gBAAxB,CAAd;;AACA,cAAG4D,OAAH,EAAY;AACR,gBAAI5B,GAAG,GAAG,IAAI,+CAAJ,EAAV,CADQ,CACa;;AACrBA,eAAG,CAAC8B,MAAJ;;AACA,6EAAYC,eAAZ;AACH;AACJ;;;qDAEoC,CAEpC;;;0DAEyC,CAEzC;;;2CAEkB/D,gB,EAA2B;AAC1C,cAAG,CAAC,KAAKgE,wBAAL,CAA8BhE,gBAA9B,CAAD,IACC,CAAC,KAAKiE,mBAAL,CAAyBjE,gBAAzB,CADF,IAEC,CAAC,KAAKkE,sBAAL,CAA4BlE,gBAA5B,CAFL,EAEoD;AAChD,mBAAO,KAAP;AACH;;AACD,iBAAO,IAAP;AACH;;;iDAEgCA,gB,EAA2B;AACxD,cAAGA,gBAAgB,CAACmE,MAAjB,KAA4B,CAA/B,EAAkC;AAC9B,iBAAKT,QAAL,CAAcU,IAAd,CACI,oEADJ,EAEI,SAFJ,EAGI;AAAEC,wBAAU,EAAE,CAAC,OAAD;AAAd,aAHJ;AAKA,mBAAO,KAAP;AACH;;AACD,iBAAO,IAAP;AACH;;;4CAE2BrE,gB,EAA2B;AACnD,cAAGA,gBAAgB,CAAC,CAAD,CAAhB,CAAoBtC,YAApB,CAAiC,OAAjC,MAA8CsC,gBAAgB,CAAC,CAAD,CAAhB,CAAoBtC,YAApB,CAAiC,OAAjC,CAAjD,EAA4F;AACxF,iBAAKgG,QAAL,CAAcU,IAAd,CACI,2CADJ,EAEI,SAFJ,EAGI;AAAEC,wBAAU,EAAE,CAAC,OAAD;AAAd,aAHJ;AAKA,mBAAO,KAAP;AACH;;AACD,iBAAO,IAAP;AACH;;;+CAE8BrE,gB,EAA2B;AACtD,cAAGA,gBAAgB,CAAC,CAAD,CAAhB,CAAoBtC,YAApB,CAAiC,OAAjC,EAA0CC,QAA1C,CAAmD,KAAnD,KAA6DqC,gBAAgB,CAAC,CAAD,CAAhB,CAAoBtC,YAApB,CAAiC,OAAjC,EAA0CC,QAA1C,CAAmD,KAAnD,CAAhE,EAA2H;AACvH,iBAAK+F,QAAL,CAAcU,IAAd,CACI,2CADJ,EAEI,SAFJ,EAGI;AAAEC,wBAAU,EAAE,CAAC,OAAD;AAAd,aAHJ;AAKA,mBAAO,KAAP;AACH;;AACD,iBAAO,IAAP;AACH;;;;;;;uBAjEQZ,a,EAAa,+H;AAAA,K;;;aAAbA,a;AAAa,eAAbA,aAAa,K;AAAA,kBAFV;;;;;sEAEHA,a,EAAa;cAHzB,wDAGyB;eAHd;AACRa,oBAAU,EAAE;AADJ,S;AAGc,Q;;;;;;;;;;;;;;;;;;;;;;ACP1B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QASaC,a;AAOT,6BAC6BC,eAD7B,EAEkCC,oBAFlC,EAG2BC,aAH3B,EAGyD;AAAA;;AACjD,aAAKF,eAAL,GAAuBA,eAAvB;AACA,aAAKC,oBAAL,GAA4BA,oBAA5B;AACA,aAAKC,aAAL,GAAqBA,aAArB;AAEA,aAAK1E,gBAAL,GAAwB,EAAxB;AACP;;;;sCAEa;AACV,eAAKwE,eAAL,CAAqBV,MAArB;AAEH;;;2CAEkB;AACf,eAAKW,oBAAL,CAA0BX,MAA1B;AACH;;;oCAEW;AACR,eAAKY,aAAL,CAAmBZ,MAAnB;AACH;;;4CAEgB;AACb,eAAKU,eAAL,CAAqBG,SAArB;AACA,eAAKF,oBAAL,CAA0BE,SAA1B;AACH;;;;;;;uBAlCQJ,a,EAAa,uDAQV,gEARU,C,EAQK,uDACf,0EADe,C,EACK,uDACpB,4DADoB,C;AACP,K;;;aAVhBA,a;AAAa,eAAbA,aAAa,K;AAAA,kBAFV;;;;;sEAEHA,a,EAAa;cAHzB,wDAGyB;eAHd;AACRD,oBAAU,EAAE;AADJ,S;AAGc,Q;;;;kBAQjB,oD;mBAAO,gE;;;;;kBACP,oD;mBAAO,0E;;;;;kBACP,oD;mBAAO,4D;;;;;;;;;;;;;;;;;;;;;ACrBhB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAMaM,e;AAIT,iCAAc;AAAA;;AACV,aAAKC,MAAL,GAAc,EAAd;AACA,aAAKC,UAAL,GAAkB,CAAlB;AACH;;;;iCAEK;AACF,cAAI9D,KAAK,GAAU,IAAI,mDAAJ,CAAU,KAAK8D,UAAf,CAAnB;AACA9D,eAAK,CAAC8C,MAAN;AACA,eAAKgB,UAAL;AACA,eAAKD,MAAL,CAAYpC,IAAZ,CAAiBzB,KAAjB;AACH;;;oCAEQ;AACL,eAAK6D,MAAL,GAAc,EAAd;AACA,eAAKC,UAAL,GAAkB,CAAlB;AACH;;;iCAEK;AACF,iBAAO,KAAKD,MAAZ;AACH;;;gCAEO1H,E,EAAU;AACd,iBAAO,KAAK0H,MAAL,CAAYE,IAAZ,CAAiB,UAAA/D,KAAK;AAAA,mBAAIA,KAAK,CAACgE,KAAN,OAAkB7H,EAAtB;AAAA,WAAtB,CAAP;AACH;;;0CAEiBA,E,EAAU;AACxB,cAAIuD,KAAK,GAAG,KAAKmE,MAAL,CAAYlE,OAAZ,CAAoB,KAAKsE,OAAL,CAAa9H,EAAb,CAApB,CAAZ;;AACA,cAAIuD,KAAK,KAAK,CAAC,CAAf,EAAkB;AACd,iBAAKmE,MAAL,CAAYjE,MAAZ,CAAmBF,KAAnB,EAA0B,CAA1B;AACH;AACJ;;;;;;;uBAlCQkE,e;AAAe,K;;;aAAfA,e;AAAe,eAAfA,eAAe,K;AAAA,kBAFZ;;;;;sEAEHA,e,EAAe;cAH3B,wDAG2B;eAHhB;AACRN,oBAAU,EAAE;AADJ,S;AAGgB,Q;;;;;;;;;;;;;;;;;;;;ACN5B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAOaY,oB;AAIT,sCAAc;AAAA;;AACV,aAAKC,WAAL,GAAmB,EAAnB;AACA,aAAKL,UAAL,GAAkB,CAAlB;AACH;;;;iCAEK;AACF,cAAIpD,UAAU,GAAe,IAAI,6DAAJ,CAAe,KAAKoD,UAApB,CAA7B;AACApD,oBAAU,CAACoC,MAAX;AACA,eAAKgB,UAAL;AACA,eAAKK,WAAL,CAAiB1C,IAAjB,CAAsBf,UAAtB;AACH;;;oCAEQ;AACL,eAAKyD,WAAL,GAAmB,EAAnB;AACA,eAAKL,UAAL,GAAkB,CAAlB;AACH;;;iCAEK;AACF,iBAAO,KAAKK,WAAZ;AACH;;;gCAEOhI,E,EAAU;AACd,iBAAO,KAAKgI,WAAL,CAAiBJ,IAAjB,CAAsB,UAAArD,UAAU;AAAA,mBAAIA,UAAU,CAACsD,KAAX,OAAuB7H,EAA3B;AAAA,WAAhC,CAAP;AACH;;;0CAEiBA,E,EAAU;AACxB,cAAIuD,KAAK,GAAG,KAAKyE,WAAL,CAAiBxE,OAAjB,CAAyB,KAAKsE,OAAL,CAAa9H,EAAb,CAAzB,CAAZ;;AACA,cAAIuD,KAAK,KAAK,CAAC,CAAf,EAAkB;AACd,iBAAKyE,WAAL,CAAiBvE,MAAjB,CAAwBF,KAAxB,EAA+B,CAA/B;AACH;AACJ;;;;;;;uBAlCQwE,oB;AAAoB,K;;;aAApBA,oB;AAAoB,eAApBA,oBAAoB,K;AAAA,kBAFjB;;;;;sEAEHA,oB,EAAoB;cAHhC,wDAGgC;eAHrB;AACRZ,oBAAU,EAAE;AADJ,S;AAGqB,Q;;;;;;;;;;;;;;;;;;;;ACPjC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAqCac,S;;;;;YAAAA,S;AAAS,kBAJR,+DAIQ;;;;yBAATA,S;AAAS,O;AAAA,iBALT,E;AAAE,gBARJ,CACP,uEADO,EAEP,0EAFO,EAGP,4FAHO,EAIP,wEAJO,EAKP,wEALO,EAMP,6EANO,CAQI;;;;0HAKFA,S,EAAS;AAAA,uBApBlB,+DAoBkB,EAnBlB,iIAmBkB,EAlBlB,0HAkBkB,EAjBlB,2HAiBkB,EAhBlB,iIAgBkB,EAflB,qFAekB;AAfJ,kBAGd,uEAHc,EAId,0EAJc,EAKd,4FALc,EAMd,wEANc,EAOd,wEAPc,EAQd,6EARc;AAeI,O;AAPD,K;;;;;sEAORA,S,EAAS;cAtBrB,sDAsBqB;eAtBZ;AACRC,sBAAY,EAAE,CACZ,+DADY,EAEZ,iIAFY,EAGZ,0HAHY,EAIZ,2HAJY,EAKZ,iIALY,EAMZ,qFANY,CADN;AASRC,iBAAO,EAAE,CACP,uEADO,EAEP,0EAFO,EAGP,4FAHO,EAIP,wEAJO,EAKP,wEALO,EAMP,6EANO,CATD;AAiBRC,mBAAS,EAAE,EAjBH;AAkBRC,mBAAS,EAAE,CAAC,+DAAD,CAlBH;AAmBRC,yBAAe,EAAE,CAAC,iIAAD;AAnBT,S;AAsBY,Q;;;;;;;;;;;;;;;;;;ACrCtB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACIkC;;;;;;AASA;;;;;;AAIA;;;;QDHrBC,Y;AAMX,4BAAoBC,MAApB,EAA+CjC,QAA/C,EAA6FkC,aAA7F,EAA2H;AAAA;;AAAvG,aAAAD,MAAA,GAAAA,MAAA;AAA2B,aAAAjC,QAAA,GAAAA,QAAA;AAL/C,aAAAmC,KAAA,GAAQ,oBAAR;AAME,aAAKD,aAAL,GAAqBA,aAArB;AACA,aAAKE,qBAAL;AACD;;;;mCAEU;AACT,eAAKF,aAAL,CAAmBG,WAAnB;AACD;;;wCAEe;AACd,eAAKH,aAAL,CAAmBI,gBAAnB;AACD;;;iCAEQ;AACP,eAAKJ,aAAL,CAAmBK,SAAnB;AACD;;;gDAEoB;AAAA;;AACnB,6CAAC,CAACzI,QAAD,CAAD,CAAY2E,GAAZ,CAAgB,UAAhB;AACA,6CAAC,CAAC3E,QAAD,CAAD,CAAY4E,EAAZ,CAAe,UAAf,EAA2B,UAACY,KAAD,EAAW;AACpC,gBAAGA,KAAK,CAACkD,KAAN,KAAgB,EAAhB,IAAsBlD,KAAK,CAACkD,KAAN,IAAe,EAAxC,EAA4C;AAC1C,oBAAI,CAACN,aAAL,CAAmBK,SAAnB;AACD,aAFD,MAGK,IAAGjD,KAAK,CAACkD,KAAN,KAAgB,CAAhB,IAAqBlD,KAAK,CAACkD,KAAN,KAAgB,GAAxC,EAA6C;AAChD,oBAAI,CAACC,sBAAL;AACD;AACF,WAPD;AAQD;;;iDAE6B;AAAA;;AAC5B,cAAIC,QAAQ,GAAG,qEAAY5G,mBAAZ,EAAf;;AACA,cAAIuD,KAAK,GAAG,qEAAYtC,QAAZ,EAAZ;;AAEAnB,eAAK,CAACC,IAAN,CAAW6G,QAAX,EAAqBxG,OAArB,CAA6B,UAAArC,OAAO,EAAI;AACtCwF,iBAAK,CAACsD,WAAN,CAAkB9I,OAAlB;AACA,gBAAIJ,EAAE,GAAGI,OAAO,CAACG,YAAR,CAAqB,IAArB,EAA2B4I,KAA3B,CAAiC,GAAjC,CAAT;;AACA,gBAAGnJ,EAAE,CAAC,CAAD,CAAF,KAAU,OAAb,EAAsB;AACpB,oBAAI,CAACyI,aAAL,CAAmBpB,eAAnB,CAAmC+B,iBAAnC,CAAqD3I,QAAQ,CAACT,EAAE,CAAC,CAAD,CAAH,CAA7D;AACD,aAFD,MAEO,IAAGA,EAAE,CAAC,CAAD,CAAF,KAAU,YAAb,EAA4B;AACjC,oBAAI,CAACyI,aAAL,CAAmBnB,oBAAnB,CAAwC8B,iBAAxC,CAA0D3I,QAAQ,CAACT,EAAE,CAAC,CAAD,CAAH,CAAlE;AACD;AACF,WARD;AASD;;;+BAEM;AACL,eAAKuG,QAAL,CAAcU,IAAd,CAAmB,oCAAnB,EAAyD,OAAzD,EAAkE;AAChEoC,oBAAQ,EAAE;AADsD,WAAlE;AAGD;;;kCAES;AACR,eAAK9C,QAAL,CAAcU,IAAd,CAAmB,kBAAnB,EAAuC,OAAvC,EAAgD;AAC9CoC,oBAAQ,EAAE;AADoC,WAAhD;AAEM;;;oCAEI;AACV,eAAK9C,QAAL,CAAcU,IAAd,CAAmB,cAAnB,EAAmC,OAAnC,EAA4C;AAC1CoC,oBAAQ,EAAE;AADgC,WAA5C;AAGD;;;+CAEsB;AAAA;;AACrB,eAAKC,mBAAL,GAA2B,KAAKd,MAAL,CAAYvB,IAAZ,CAAiB,6HAAjB,CAA3B;AAEA,eAAKqC,mBAAL,CAAyBC,WAAzB,GAAuCC,SAAvC,CAAiD,UAAAC,gBAAgB,EAAI;AACjE,gBAAGA,gBAAH,EAAqB;AACnB,oBAAI,CAACC,KAAL;;AACA,mFAAYC,kBAAZ;;AACA,oBAAI,CAAClB,aAAL,CAAmBmB,iBAAnB;AACD;AACF,WANH;AAOD;;;gCAEO;AACN,cAAIhE,KAAK,GAAG,qEAAYtC,QAAZ,EAAZ;;AACA,iBAAOsC,KAAK,CAACiE,UAAb,EAAyB;AACrBjE,iBAAK,CAACsD,WAAN,CAAkBtD,KAAK,CAACiE,UAAxB;AACH;;AAED,+EAAYhH,gBAAZ,GAA+B,EAA/B;AACA,eAAK0D,QAAL,CAAcU,IAAd,CAAmB,yBAAnB,EAA8C,OAA9C,EAAuD;AACrDoC,oBAAQ,EAAE;AAD2C,WAAvD;AAGD;;;;;;;uBAzFUd,Y,EAAY,mI,EAAA,wI,EAAA,gEAMuD,6EANvD,C;AAMoE,K;;;YANhFA,Y;AAAY,+B;AAAA,e;AAAA,a;AAAA,yN;AAAA;AAAA;ACdzB;;AACE;;AACE;;AACE;;AACE;;AACA;;AACE;AAAA,mBAAY,IAAAuB,QAAA,EAAZ;AAAsB,WAAtB,EAAuB,eAAvB,EAAuB;AAAA,mBACN,IAAAC,aAAA,EADM;AACS,WADhC,EAAuB,QAAvB,EAAuB;AAAA,mBAEb,IAAAC,MAAA,EAFa;AAEL,WAFlB;;AAGF;;AACF;;AAEA;;AACE;;AACF;;AAEA;;AACE;;AACF;;AACF;;AAEF;;AAEA;;AACE;AAAA,mBAAwB,IAAAC,oBAAA,EAAxB;AAA8C,WAA9C,EAA+C,SAA/C,EAA+C;AAAA,mBACpC,IAAAC,OAAA,EADoC;AAC3B,WADpB,EAA+C,WAA/C,EAA+C;AAAA,mBAElC,IAAAC,SAAA,EAFkC;AAEvB,WAFxB;;AAGF;;AACF;;;;;;;;;sEDda5B,Y,EAAY;cANxB,uDAMwB;eANd;AACT6B,kBAAQ,EAAE,UADD;AAETC,qBAAW,EAAE,sBAFJ;AAGTC,mBAAS,EAAE,CAAC,qBAAD;AAHF,S;AAMc,Q;;;;;;;;kBAMgD,oD;mBAAO,6E;;;;;;;;;;;;;;;;;;;;;AEpBhF;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAOaC,c;AAKX,gCAAc;AAAA;;AAJO,aAAAC,gBAAA,GAAsC,IAAI,0DAAJ,EAAtC;AACF,aAAAC,cAAA,GAAoC,IAAI,0DAAJ,EAApC;AACa,aAAAC,2BAAA,GAAiD,IAAI,0DAAJ,EAAjD;AAEf;;;;mCAET,CACP;;;oCAEQ;AACP,eAAKF,gBAAL,CAAsBG,IAAtB;AACD;;;kCAEM;AACL,eAAKF,cAAL,CAAoBE,IAApB;AACD;;;+CAEmB;AAClB,eAAKD,2BAAL,CAAiCC,IAAjC;AACD;;;;;;;uBApBUJ,c;AAAc,K;;;YAAdA,c;AAAc,gC;AAAA;AAAA;AAAA;AAAA;AAAA,O;AAAA,e;AAAA,a;AAAA,8U;AAAA;AAAA;ACP3B;;AACI;;AACE;;AACE;;AAA0C;AAAA,mBAAS,IAAAJ,SAAA,EAAT;AAAoB,WAApB;;AAAsB;;AAAc;;AAChF;;AAEA;;AACE;;AAA0C;AAAA,mBAAS,IAAAD,OAAA,EAAT;AAAkB,WAAlB;;AAAoB;;AAAQ;;AACxE;;AAEA;;AACE;;AAA0C;AAAA,mBAAS,IAAAD,oBAAA,EAAT;AAA+B,WAA/B;;AAAiC;;AAAK;;AAClF;;AAEF;;AAEA;;AAAA;;AACE;;AACE;;AAKE;;AACF;;AACF;;AACF;;AAEF;;;;;;;;sEDrBWM,c,EAAc;cAL1B,uDAK0B;eALhB;AACTH,kBAAQ,EAAE,WADD;AAETC,qBAAW,EAAE,wBAFJ;AAGTC,mBAAS,EAAE,CAAC,uBAAD;AAHF,S;AAKgB,Q;;;;gBACxB,oD;iBAAO,W;;;gBACP,oD;iBAAO,S;;;gBACP,oD;iBAAO,sB;;;;;;;;;;;;;;;;;;;;AEVV;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAOaM,oB;AAKX,sCAAc;AAAA;;AAJM,aAAAC,WAAA,GAAiC,IAAI,0DAAJ,EAAjC;AACK,aAAAC,gBAAA,GAAsC,IAAI,0DAAJ,EAAtC;AACP,aAAAC,SAAA,GAA+B,IAAI,0DAAJ,EAA/B;AAED;;;;mCAET,CACP;;;mCAEO;AACN,eAAKF,WAAL,CAAiBF,IAAjB;AACD;;;wCACY;AACX,eAAKG,gBAAL,CAAsBH,IAAtB;AACD;;;iCAEK;AACJ,eAAKI,SAAL,CAAeJ,IAAf;AACD;;;;;;;uBAnBUC,oB;AAAoB,K;;;YAApBA,oB;AAAoB,wC;AAAA;AAAA;AAAA;AAAA;AAAA,O;AAAA,e;AAAA,a;AAAA,sY;AAAA;AAAA;ACPjC;;AAEI;;AACE;;AACE;;AAA6B;;AAAa;;AAC1C;;AAA0B;;AAAU;;AACtC;;AACF;;AAEA;;AACE;;AACE;;AAA6B;;AAAI;;AACjC;;AAA0B;;AAAkB;;AAC9C;;AACF;;AAGA;;AACE;;AACE;;AAA6B;;AAAc;;AAC3C;;AAA0B;;AAAe;;AAC3C;;AACF;;AAEA;;AACE;;AACE;;AAA6B;;AAAS;;AACtC;;AAA0B;;AAAY;;AACxC;;AACF;;AAEA;;AACE;;AAA4C;AAAA,mBAAS,IAAAd,QAAA,EAAT;AAAmB,WAAnB;;AAC1C;;AAAgD;;AAAiB;;AACnE;;AAEA;;AAAkD;AAAA,mBAAS,IAAAC,aAAA,EAAT;AAAwB,WAAxB;;AAChD;;AAEF;;AAEA;;AAA0C;AAAA,mBAAS,IAAAC,MAAA,EAAT;AAAiB,WAAjB;;AACxC;;AAAgD;;AAAU;;AAC5D;;AACF;;AACF;;;;;;;;sEDtCWY,oB,EAAoB;cALhC,uDAKgC;eALtB;AACTR,kBAAQ,EAAE,mBADD;AAETC,qBAAW,EAAE,gCAFJ;AAGTC,mBAAS,EAAE,CAAC,+BAAD;AAHF,S;AAKsB,Q;;;;gBAC9B,oD;iBAAO,U;;;gBACP,oD;iBAAO,e;;;gBACP,oD;iBAAO,Q;;;;;;;;;;;;;;;;;;;;AEVV;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAOaU,sB;AAEX,wCAAc;AAAA;AAAG;;;;mCAET,CACP;;;;;;;uBALUA,sB;AAAsB,K;;;YAAtBA,sB;AAAsB,0C;AAAA,c;AAAA,a;AAAA;AAAA;ACPnC;;AAAG;;AAAsB;;;;;;;;sEDOZA,sB,EAAsB;cALlC,uDAKkC;eALxB;AACTZ,kBAAQ,EAAE,qBADD;AAETC,qBAAW,EAAE,kCAFJ;AAGTC,mBAAS,EAAE,CAAC,iCAAD;AAHF,S;AAKwB,Q;;;;;;;;;;;;;;;;;;;;AEPnC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAOaW,oB;AAEX,sCAAc;AAAA;AAAG;;;;mCAET,CACP;;;;;;;uBALUA,oB;AAAoB,K;;;YAApBA,oB;AAAoB,wC;AAAA,c;AAAA,a;AAAA;AAAA;ACPjC;;AAAG;;AAAoB;;;;;;;;sEDOVA,oB,EAAoB;cALhC,uDAKgC;eALtB;AACTb,kBAAQ,EAAE,mBADD;AAETC,qBAAW,EAAE,gCAFJ;AAGTC,mBAAS,EAAE,CAAC,+BAAD;AAHF,S;AAKsB,Q;;;;;;;;;;;;;;;;;;;;AEPjC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QASaY,yB;AAGX,yCAAoBC,SAApB,EAAwE;AAAA;;AAApD,aAAAA,SAAA,GAAAA,SAAA;AAClB,aAAKC,aAAL,GAAqB,KAArB;AACD;;;;kCAEQ;AACP,eAAKA,aAAL,GAAqB,IAArB;AACA,eAAKD,SAAL,CAAeE,KAAf,CAAqB,KAAKD,aAA1B;AACD;;;gCAEO;AACN,eAAKD,SAAL,CAAeE,KAAf,CAAqB,KAAKD,aAA1B;AACD;;;;;;;uBAdUF,yB,EAAyB,sI;AAAA,K;;;YAAzBA,yB;AAAyB,mC;AAAA,e;AAAA,a;AAAA,yJ;AAAA;AAAA;ACTtC;;AAAqB;;AAAoB;;AACzC;;AACE;;AACF;;AACA;;AACE;;AACE;;AAAwC;AAAA,mBAAS,IAAAG,KAAA,EAAT;AAAgB,WAAhB;;AAAkB;;AAAY;;AACtE;;AAAwC;AAAA,mBAAS,eAAT;AAAiB,WAAjB;;AAAmB;;AAAM;;AACnE;;AACF;;;;;;;;;sEDAaH,yB,EAAyB;cALrC,uDAKqC;eAL3B;AACPb,qBAAW,EAAE,qCADN;AAEPC,mBAAS,EAAE,CAAC,oCAAD;AAFJ,S;AAK2B,Q;;;;;;;;;;;;;;;;;;;;;;AETtC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAAO,QAAMgB,YAAY,GAAG,EAArB;AACA,QAAMC,gBAAgB,GAAG,OAAzB;AAEA,QAAMC,gBAAgB,GAAG,EAAzB;AACA,QAAMC,iBAAiB,GAAG,EAA1B;;;;;;;;;;;;;;;;ACJP;AAAA;;;AAAA;AAAA;AAAA,O,CAAA;AACA;AACA;;;AAEO,QAAMC,WAAW,GAAG;AACzBC,gBAAU,EAAE;AADa,KAApB;AAIP;;;;;;;AAOA;;;;;;;;;;;;;;;;;ACfA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAQA,QAAI,sEAAYA,UAAhB,EAA4B;AAC1B;AACD;;AAED,gFAAyBC,eAAzB,CAAyC,yDAAzC,WACS,UAAAC,GAAG;AAAA,aAAIC,OAAO,CAACC,KAAR,CAAcF,GAAd,CAAJ;AAAA,KADZ","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","\nexport class ArcHelper {\n\n    static getCoorinatesOfElement(id: string): [number, number] {\n        let x: number, y: number;\n        let element: Element = document.getElementById(id);\n        if(element.getAttribute(\"id\").includes(\"place\")) {\n            x = parseInt(element.getAttribute('cx'));\n            y = parseInt(element.getAttribute('cy'));\n        } else {\n            x = parseInt(element.getAttribute('x'));\n            y = parseInt(element.getAttribute('y'));\n        }\n        return [x, y];\n    }\n\n    static  connectToNearestEnd(\n        start_id: string, start_x: number, start_y: number,\n        end_x: number, end_y: number\n    ): [number, number, number, number] {\n\n            if(start_id.includes('place')) {\n                [start_x, start_y, end_x, end_y] = \n                    this.adjustArrowPosition('place', start_x, start_y, end_x, end_y);\n            } else if(start_id.includes('transition')) {\n                [start_x, start_y, end_x, end_y] = \n                this.adjustArrowPosition('transition', start_x, start_y, end_x, end_y);\n            }\n\n        return [start_x, start_y, end_x, end_y];\n    }\n\n\n    static adjustArrowPosition(\n        start_id: string, start_x: number, start_y: number,\n        end_x: number, end_y: number\n    ): [number, number, number, number] {\n\n        if(start_x - end_x > -80 && start_x - end_x < 100) {\n            if(start_y - end_y < 0) {\n                if(start_id === 'place') {\n                    [start_x, start_y, end_x, end_y] =\n                        this.adjustPlaceTop(start_x, start_y, end_x, end_y);\n                } else {\n                    [start_x, start_y, end_x, end_y] =\n                        this.adjustTransitionTop(start_x, start_y, end_x, end_y);\n                }\n            } \n            else {\n                if(start_id === 'place') {\n                    [start_x, start_y, end_x, end_y] = \n                        this.adjustPlaceBottom(start_x, start_y, end_x, end_y);\n                } else {\n                    [start_x, start_y, end_x, end_y] = \n                        this.adjustTransitionBottom(start_x, start_y, end_x, end_y);\n                }\n            }\n        } \n        else if(start_y - end_y > -80 && start_y - end_y < 100) {\n            if(start_x - end_x < 0) {\n                if(start_id === 'place') {\n                    [start_x, start_y, end_x, end_y] =\n                        this.adjustPlaceLeft(start_x, start_y, end_x, end_y);\n                } else {\n                    [start_x, start_y, end_x, end_y] =\n                        this.adjustTransitionLeft(start_x, start_y, end_x, end_y);\n                }\n            } \n            else {\n                if(start_id === 'place') {\n                        [start_x, start_y, end_x, end_y] =\n                        this.adjustPlaceRight(start_x, start_y, end_x, end_y);\n                }else {\n                    [start_x, start_y, end_x, end_y] =\n                        this.adjustTransitionRight(start_x, start_y, end_x, end_y);\n                }\n            }\n        }\n\n        else if(start_x - end_x < -80) {\n            if(start_y - end_y < 50) {\n                if(start_id === 'place') {\n                    [start_x, start_y, end_x, end_y] = \n                        this.adjustPlaceTopLeft(start_x, start_y, end_x, end_y);\n                } else {\n                    [start_x, start_y, end_x, end_y] = \n                        this.adjustTransitionTopLeft(start_x, start_y, end_x, end_y);\n                }\n            }\n            else {\n                if(start_id === 'place') {\n                    [start_x, start_y, end_x, end_y] = \n                        this.adjustPlaceBottomLeft(start_x, start_y, end_x, end_y);\n                } else {\n                    [start_x, start_y, end_x, end_y] = \n                        this.adjustTransitionBottomLeft(start_x, start_y, end_x, end_y);\n                }\n            }\n        }\n\n        else if(start_x - end_x > 100) {\n            if(start_y - end_y < 50) {\n                if(start_id === 'place') {\n                    [start_x, start_y, end_x, end_y] =\n                        this.adjustPlaceTopRight(start_x, start_y, end_x, end_y);\n                } else {\n                    [start_x, start_y, end_x, end_y] =\n                        this.adjustTransitionTopRight(start_x, start_y, end_x, end_y);\n                }\n                    \n            }\n            else {\n                if(start_id === 'place') {\n                    [start_x, start_y, end_x, end_y] = \n                        this.adjustPlaceBottomRight(start_x, start_y, end_x, end_y);\n                } else {\n                    [start_x, start_y, end_x, end_y] =\n                        this.adjustTransitionBottomRight(start_x, start_y, end_x, end_y);\n                }\n            }\n        } else {\n            alert('Unhandled position')\n        }\n\n        return [start_x, start_y, end_x, end_y];\n    }\n\n    ///////////////////////\n    // Place Adjustments //\n    ///////////////////////\n    static adjustPlaceTop(start_x, start_y, end_x, end_y): [number, number, number, number] {\n        return [start_x, start_y + 30, end_x + 35, end_y - 3];\n    }\n\n    static adjustPlaceTopLeft(start_x, start_y, end_x, end_y): [number, number, number, number] {\n        return [start_x + 21.2, start_y + 21.2, end_x + 25, end_y - 3];\n    }\n\n    static adjustPlaceTopRight(start_x, start_y, end_x, end_y): [number, number, number, number] {\n        return [start_x - 21.2, start_y + 21.2, end_x + 45, end_y - 3];\n    }\n\n    static adjustPlaceBottom(start_x, start_y, end_x, end_y): [number, number, number, number] {\n        return [start_x, start_y - 30, end_x + 35, end_y + 25];\n    }\n\n    static adjustPlaceBottomLeft(start_x, start_y, end_x, end_y): [number, number, number, number] {\n        return [start_x + 21.2, start_y - 21.2, end_x + 25, end_y + 23];\n    }\n\n    static adjustPlaceBottomRight(start_x, start_y, end_x, end_y): [number, number, number, number] {\n        return [start_x - 21.2, start_y - 21.2, end_x + 45, end_y + 25];\n    }\n\n    static adjustPlaceLeft(start_x, start_y, end_x, end_y): [number, number, number, number] {\n        return [start_x + 30, start_y, end_x - 8, end_y + 12];\n    }\n\n    static adjustPlaceRight(start_x, start_y, end_x, end_y): [number, number, number, number] {\n        return [start_x - 30, start_y, end_x + 75, end_y + 10];\n    }\n\n    ////////////////////////////\n    // Transition Adjustments //\n    ////////////////////////////\n    static adjustTransitionTop(start_x, start_y, end_x, end_y): [number, number, number, number] {\n        return [start_x + 35, start_y + 20, end_x, end_y - 39];\n    }\n\n    static adjustTransitionTopLeft(start_x, start_y, end_x, end_y): [number, number, number, number] {\n        return [start_x + 35, start_y + 20, end_x - 30, end_y - 25];\n    }\n\n    static adjustTransitionTopRight(start_x, start_y, end_x, end_y): [number, number, number, number] {\n        return [start_x + 35, start_y + 20, end_x + 30, end_y - 25];\n    }\n\n    static adjustTransitionBottom(start_x, start_y, end_x, end_y): [number, number, number, number] {\n        return [start_x + 35, start_y, end_x, end_y + 35];\n    }\n\n    static adjustTransitionBottomLeft(start_x, start_y, end_x, end_y): [number, number, number, number] {\n        return [start_x + 35, start_y, end_x - 30, end_y + 25];\n    }\n\n    static adjustTransitionBottomRight(start_x, start_y, end_x, end_y): [number, number, number, number] {\n        return [start_x + 35, start_y, end_x + 30, end_y + 25];\n    }\n\n    static adjustTransitionLeft(start_x, start_y, end_x, end_y): [number, number, number, number] {\n        return [start_x + 70, start_y + 10, end_x - 39, end_y];\n    }\n\n    static adjustTransitionRight(start_x, start_y, end_x, end_y): [number, number, number, number] {\n        return [start_x, start_y + 10, end_x + 39, end_y];\n    }\n}","export class BoardHelper {\n    static selectedElements: string[] = [];\n\n    static getSelectedElements(): HTMLCollection {\n        return document.getElementsByClassName('selected');\n    }\n\n    static getSelectedElementsWithoutLabels(): Element[] {\n        return Array.from(this.getSelectedElements()).filter(selectedEelemnt => {\n            return !selectedEelemnt.getAttribute('id').startsWith('label');\n        })\n    }\n\n    static removeSelection(): void {\n        Array.from(this.getSelectedElements()).forEach(element => {\n            element.classList.remove('selected');\n            if(!element.getAttribute('id').includes('label')) {\n                element.setAttribute('stroke', 'black');\n            }\n        });\n        this.selectedElements = [];\n    }\n\n    static getBoard(): HTMLElement {\n        return document.getElementById('svg-board');\n    }\n\n    static removeSelectionOfLabel(element: SVGElement): void {\n        element.addEventListener('mousedown', function(e){\n            if (e.detail > 1){\n                e.preventDefault();\n            }\n        });\n    }\n\n    static addArrowHeadMarker() {\n        let defs = document.createElementNS(\"http://www.w3.org/2000/svg\",\"defs\");\n        let marker = document.createElementNS(\"http://www.w3.org/2000/svg\", 'marker');\n\n        marker.setAttribute(\"id\", \"arrow\");\n        marker.setAttribute(\"viewBox\", \"0 0 10 10\");\n        marker.setAttribute(\"refX\", \"1\");\n        marker.setAttribute(\"refY\", \"5\");\n        marker.setAttribute(\"markerWidth\", \"10\");\n        marker.setAttribute(\"markerHeight\", \"10\");\n        marker.setAttribute(\"orient\", \"auto\");\n\n        let path = document.createElementNS(\"http://www.w3.org/2000/svg\", 'path');\n        path.setAttribute(\"d\", \"M 0 0 L 10 5 L 0 10 z\");\n        path.setAttribute(\"fill\", \"black;\");\n        \n        marker.appendChild(path);\n        defs.appendChild(marker);\n        this.getBoard().appendChild(defs);\n    }\n\n    static removeSelectedElementFromListByID(id: string) {\n        let index = this.selectedElements.indexOf(id);\n        if (index !== -1) {\n            this.selectedElements.splice(index, 1);\n        }\n    }\n}","import { place_radius, place_fill_color } from './../../app/shared/constants';\nimport { BoardHelper } from './BoardHelper';\n\nexport class PlaceHelper {\n    \n    static createPlaceWtihLabel(id: number, x_position: number, y_position: number): void {\n        let place = document.createElementNS(\"http://www.w3.org/2000/svg\", \"circle\");\n\n        place.setAttribute(\"id\", \"place-\" + id);\n        place.setAttribute(\"class\", \"net-element place\");\n        place.setAttribute(\"cx\", x_position.toString());\n        place.setAttribute(\"cy\", y_position.toString());\n        place.setAttribute(\"r\", place_radius.toString());\n        place.setAttribute(\"stroke\", \"black\");\n        place.setAttribute(\"fill\", place_fill_color);\n        place.setAttribute(\"style\", \"cursor: pointer\");\n        \n        let text = document.createElementNS(\"http://www.w3.org/2000/svg\", \"text\");\n        text.setAttribute(\"id\", \"label-place-\" + id);\n        text.setAttribute(\"x\", x_position.toString());\n        text.setAttribute(\"y\", y_position.toString());\n        text.setAttribute(\"fill\", \"black\");\n        text.setAttribute(\"dy\", \".3em\");\n        text.setAttribute(\"text-anchor\", \"middle\");\n        text.setAttribute(\"font-size\", \"20px\");\n        text.innerHTML = 'p' + id;\n\n        BoardHelper.getBoard().append(place);\n        BoardHelper.getBoard().append(text);\n        BoardHelper.removeSelectionOfLabel(place);\n    }\n\n    static movePlaceWithLabel(place: HTMLElement, label: HTMLElement, x_position: number, y_position: number): void {\n        const x = (x_position - 200);\n        const y = (y_position - 15);\n        place.setAttribute('cx', x.toString());\n        place.setAttribute('cy', y.toString());\n\n        label.setAttribute('x', x.toString());\n        label.setAttribute('y', y.toString());\n    }\n\n    static getPlacePositionByID(id: number): [number, number] {\n        let domID = \"place-\" + id;\n        let domElement = document.getElementById(domID);\n        return [parseInt(domElement.getAttribute('cx')), parseInt(domElement.getAttribute('cy'))];\n    }\n}","import { transition_width, transition_height } from './../../app/shared/constants';\nimport { BoardHelper } from './BoardHelper';\n\nexport class TransitionHelper {\n\n    static createTransitionWithLabel(id: number, x_position: number, y_position: number): void {\n        let transition = document.createElementNS(\"http://www.w3.org/2000/svg\", \"rect\");\n\n        transition.setAttribute(\"id\", \"transition-\" + id);\n        transition.setAttribute(\"class\", \"net-element transition\");\n        transition.setAttribute(\"x\", x_position.toString());\n        transition.setAttribute(\"y\", y_position.toString());\n        transition.setAttribute(\"width\", transition_width.toString());\n        transition.setAttribute(\"height\", transition_height.toString());\n        transition.setAttribute(\"style\", \"cursor: pointer\");\n        \n        let text = document.createElementNS(\"http://www.w3.org/2000/svg\", \"text\");\n        text.setAttribute(\"id\", \"label-transition-\" + id);\n        text.setAttribute(\"x\", (x_position + 35).toString());\n        text.setAttribute(\"y\", (y_position + 10).toString());\n        text.setAttribute(\"fill\", \"white\");\n        text.setAttribute(\"dy\", \".3em\");\n        text.setAttribute(\"text-anchor\", \"middle\");\n        text.setAttribute(\"font-size\", \"20px\");\n        text.innerHTML = 't' + id;\n\n        BoardHelper.getBoard().append(transition);\n        BoardHelper.getBoard().append(text);\n        BoardHelper.removeSelectionOfLabel(transition);\n    }\n\n    static moveTransitionWithLabel(transition: HTMLElement, label: HTMLElement, x_position: number, y_position: number): void {\n        transition.setAttribute('x', (x_position - 235).toString());\n        transition.setAttribute('y', (y_position - 35).toString());\n\n        label.setAttribute('x', (x_position - 200).toString());\n        label.setAttribute('y', (y_position - 25).toString());\n    }\n\n    static getPlaceTransitionByID(id: number): [number, number] {\n        let domID = \"transition-\" + id;\n        let domElement = document.getElementById(domID);\n        return [parseInt(domElement.getAttribute('x')), parseInt(domElement.getAttribute('y'))];\n    }\n}","import { ArcHelper } from './../helpers/ArcHelper';\nimport { BoardHelper } from './../helpers/BoardHelper';\nimport { INetElement } from './INetElement';\nimport * as $ from 'jquery';\n\nconst arc_id_prefix = 'arc-';\n\nexport class Arc implements INetElement {\n    id: string;\n    color: string = \"black\";\n\n    constructor() {\n        this.id = \n            document.getElementById(BoardHelper.selectedElements[0]).getAttribute('id') + \n            '-' + \n            document.getElementById(BoardHelper.selectedElements[1]).getAttribute('id');\n    }\n\n    getID(): string {\n        return this.id;\n    }\n\n    create(): void {\n        let [start_x, start_y] = ArcHelper.getCoorinatesOfElement(BoardHelper.selectedElements[0]);\n        let [end_x, end_y] = ArcHelper.getCoorinatesOfElement(BoardHelper.selectedElements[1]);\n        \n        [start_x, start_y, end_x, end_y] = \n        ArcHelper.connectToNearestEnd(\n                                    BoardHelper.selectedElements[0], start_x, start_y,\n                                     end_x, end_y);\n\n        let arc = document.createElementNS(\"http://www.w3.org/2000/svg\", \"line\");\n\n        arc.setAttribute(\"id\", \"arc-\" + this.id);\n        arc.setAttribute(\"class\", \"net-element arc\");\n        arc.setAttribute(\"x1\", start_x.toString());\n        arc.setAttribute(\"y1\", start_y.toString());\n        arc.setAttribute(\"x2\", end_x.toString());\n        arc.setAttribute(\"y2\", end_y.toString());\n        arc.setAttribute(\"stroke\", \"black\");\n        arc.setAttribute(\"marker-end\", \"url(#arrow)\");\n        document.getElementById(\"svg-board\").append(arc);\n\n        this.selectedElementEvents();\n    }\n\n    move(): void {\n        throw new Error(\"Method not implemented.\");\n    }\n\n    selectedElementEvents() {\n        let arc = document.getElementById(this.getDomID());\n        $(arc).off('dblclick');\n        $(arc).on('dblclick', () => {\n            if(arc.classList.contains('selected')) {\n                this.unselect(arc);\n            } else {\n                this.select(arc);\n            }\n        });      \n    }\n\n    select(arc: HTMLElement): void {\n        arc.classList.add('selected');\n        arc.setAttribute('stroke', 'red');\n        BoardHelper.selectedElements.push(arc.getAttribute('id'));    \n    }\n\n    unselect(arc: HTMLElement): void {\n        arc.classList.remove('selected');\n        arc.setAttribute('stroke', 'black');\n        BoardHelper.removeSelectedElementFromListByID(arc.getAttribute('id'));    \n    }\n\n    private getDomID(): string {\n        return arc_id_prefix + this.id;\n    }\n}","import { BoardHelper } from './../helpers/BoardHelper';\nimport { PlaceHelper } from '../helpers/PlaceHelper';\nimport { INetElement } from './INetElement';\nimport * as $ from 'jquery';\n\nconst place_id_prefix = 'place-';\n\nexport class Place implements INetElement {\n    id: number;\n    color: string = 'white';\n\n    constructor(id: number) {\n        this.id = id;\n    }   \n\n    getID(): number {\n        return this.id;\n    }\n\n    create(): void {\n        PlaceHelper.createPlaceWtihLabel(this.id, 100, 100);\n        this.attachListeners();\n    }\n\n    selectedElementEvents() {\n        let place = document.getElementById(this.getDomID());\n        let label = document.getElementById('label-' + this.getDomID());\n        $(place).off('dblclick');\n        $(place).on('dblclick', () => {\n            if(place.classList.contains('selected')) {\n                this.unselect(place, label);\n            } else {\n                this.select(place, label);\n            }\n        });      \n    }\n\n    select(place: HTMLElement, label: HTMLElement): void {\n        place.classList.add('selected');\n        label.classList.add('selected');\n        place.setAttribute('stroke', 'red');\n        BoardHelper.selectedElements.push(place.getAttribute('id'));\n    }\n\n    unselect(place: HTMLElement, label: HTMLElement): void {\n        place.classList.remove('selected');\n        label.classList.remove('selected');\n        place.setAttribute('stroke', 'black');\n        BoardHelper.removeSelectedElementFromListByID(place.getAttribute('id'));\n    }\n    \n    move(): void {\n        let place = document.getElementById(this.getDomID());\n        let label = document.getElementById('label-' + this.getDomID());\n        let board = document.getElementById('svg-board');\n        \n        $(place).off('mousedown');\n        $(place).on('mousedown', () => {\n            place.classList.add('active');\n\n            $(board).off('mousemove');\n            $(board).on('mousemove', (event) => {\n                PlaceHelper.movePlaceWithLabel(place, label, event.pageX, event.pageY);\n            });\n\n            $(board).off('mouseup');\n            $(board).on('mouseup', () => {\n                $(board).off('mousemove');\n                place.classList.remove('active');\n            });\n        });\n    }\n\n    // probably should move to upper class and use this method\n    connect(): void {\n        throw new Error(\"Method not implemented.\");\n    }\n\n    private attachListeners(): void {\n        this.selectedElementEvents();\n        this.move();\n    }\n\n    private getDomID(): string {\n        return place_id_prefix + this.id;\n    }\n}","import { BoardHelper } from './../helpers/BoardHelper';\nimport { TransitionHelper } from '../helpers/TransitionHelper';\nimport { INetElement } from './INetElement';\nimport * as $ from 'jquery';\n\nconst transition_id_prefix = 'transition-';\n\nexport class Transition implements INetElement {\n    id: number;\n    color: string = \"white\";\n\n    constructor(id: number) {\n        this.id = id;\n    }\n\n    getID(): number {\n        return this.id;\n    }\n    \n    create(): void {\n        TransitionHelper.createTransitionWithLabel(this.id, 100, 100);\n        this.attachListeners();\n    }\n\n    selectedElementEvents() {\n        let transition = document.getElementById(this.getDomID());\n        let label = document.getElementById('label-' + this.getDomID());\n\n        $(transition).off('dblclick');\n        $(transition).on('dblclick', () => {\n            if(transition.classList.contains('selected')) {\n                this.unselect(transition, label);\n            } else {\n                this.select(transition, label);\n            }\n        });      \n    }\n\n    select(transition: HTMLElement, label: HTMLElement): void {\n        transition.classList.add('selected');\n        label.classList.add('selected');\n        transition.setAttribute('stroke', 'red');\n        BoardHelper.selectedElements.push(transition.getAttribute('id'));\n    }\n\n    unselect(transition: HTMLElement, label: HTMLElement): void {\n        transition.classList.remove('selected');\n        label.classList.remove('selected');\n        transition.setAttribute('stroke', 'black');\n        BoardHelper.removeSelectedElementFromListByID(transition.getAttribute('id'));\n    }\n\n    move(): void {\n        let transition = document.getElementById(this.getDomID());\n        let label = document.getElementById('label-' + this.getDomID());\n        let board = document.getElementById('svg-board');\n        \n        $(transition).off('mousedown');\n        transition.addEventListener('mousedown', () => {\n            transition.classList.add('active');\n            $(board).on('mousemove', (event) => {\n                TransitionHelper.moveTransitionWithLabel(transition, label, event.pageX, event.pageY);\n            });\n\n            $(board).on('mouseup', () => {\n                $(board).off('mousemove');\n                transition.classList.remove('active');\n            });\n        });    \n    }\n\n    private attachListeners(): void {\n        this.selectedElementEvents();\n        this.move();\n    }\n\n    private getDomID(): string {\n        return transition_id_prefix + this.id;\n    }\n\n}","import { ArcHelper } from './../helpers/ArcHelper';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { BoardHelper } from './../helpers/BoardHelper';\nimport { Injectable, Inject } from '@angular/core';\nimport { Arc } from './../models/Arc';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ArcRepository {\n\n    constructor(private snackBar: MatSnackBar) {}\n    \n    create(): void {\n        let selectedElements: Element[] = BoardHelper.getSelectedElementsWithoutLabels();\n        let isValid = this.validateConnection(selectedElements);\n        if(isValid) {\n            let arc = new Arc(); // id of start and end element\n            arc.create();\n            BoardHelper.removeSelection();\n        }\n    }\n\n    private connectToNearestEndOfPlace() {\n\n    }\n\n    private connectToNearestEndOfTransition() {\n\n    }\n\n    validateConnection(selectedElements: Element[]): boolean {\n        if(!this.validateNumberOfElements(selectedElements) ||\n            !this.validateObjectsType(selectedElements) ||\n            !this.validateIfElementIsArc(selectedElements)) {\n            return false;\n        }\n        return true;\n    }\n\n    private validateNumberOfElements(selectedElements: Element[]): boolean {\n        if(selectedElements.length !== 2) {\n            this.snackBar.open(\n                \"Bad number of elements selected. Please select exactly 2 elements!\", \n                \"Got it!\", \n                { panelClass: ['error'] }\n            );\n            return false;\n        } \n        return true;\n    }\n\n    private validateObjectsType(selectedElements: Element[]): boolean {\n        if(selectedElements[0].getAttribute('class') === selectedElements[1].getAttribute('class')) {\n            this.snackBar.open(\n                \"Cannot connect two elements of same type!\", \n                \"Got it!\", \n                { panelClass: ['error'] }\n            );\n            return false;\n        } \n        return true;\n    }\n\n    private validateIfElementIsArc(selectedElements: Element[]): boolean {\n        if(selectedElements[0].getAttribute('class').includes('arc') || selectedElements[1].getAttribute('class').includes('arc')) {\n            this.snackBar.open(\n                \"Cannot connect two elements of same type!\", \n                \"Got it!\", \n                { panelClass: ['error'] }\n            );\n            return false;\n        } \n        return true;\n    }\n}","import { Place } from './../models/Place';\nimport { INetElement } from './../models/INetElement';\nimport { ArcRepository } from './ArcRepository';\nimport { TransitionRepository } from './TransitionRepository';\nimport { PlaceRepository } from './PlaceRepository';\nimport { Injectable, Inject } from '@angular/core';\nimport { Transition } from '../models/Transition';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class NetRepository {\n    placeRepository: PlaceRepository;\n    transitionRepository: TransitionRepository;\n    arcRepository: ArcRepository;\n\n    selectedElements: [];\n\n    constructor(\n        @Inject(PlaceRepository) placeRepository: PlaceRepository, \n        @Inject(TransitionRepository) transitionRepository: TransitionRepository,\n        @Inject(ArcRepository) arcRepository: ArcRepository) {\n            this.placeRepository = placeRepository;\n            this.transitionRepository = transitionRepository;\n            this.arcRepository = arcRepository;\n\n            this.selectedElements = [];\n    }\n\n    createPlace() {\n        this.placeRepository.create();\n\n    }\n\n    createTransition() {\n        this.transitionRepository.create();\n    }\n\n    createArc() {\n        this.arcRepository.create();\n    }\n\n    removeAllElements(): void {\n        this.placeRepository.removeAll();\n        this.transitionRepository.removeAll();\n    }\n}","import { Injectable } from '@angular/core';\nimport { Place } from './../models/Place';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class PlaceRepository {\n    places: Place[];\n    current_id: number;\n\n    constructor() {\n        this.places = [];\n        this.current_id = 1;\n    }\n\n    create(): void {\n        let place: Place = new Place(this.current_id);\n        place.create();\n        this.current_id++;\n        this.places.push(place);\n    }\n\n    removeAll(): void {\n        this.places = [];\n        this.current_id = 1;\n    }\n\n    getAll(): Place[] {\n        return this.places;\n    }\n\n    getByID(id: number): Place {\n        return this.places.find(place => place.getID() === id);\n    }\n    \n    deleteElementByID(id: number): void {\n        let index = this.places.indexOf(this.getByID(id));\n        if (index !== -1) {\n            this.places.splice(index, 1);\n        }\n    }\n}","import { Injectable } from '@angular/core';\nimport { Transition } from './../models/Transition';\nimport { INetElement } from './../models/INetElement';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class TransitionRepository {\n    transitions: Transition[];\n    current_id: number;\n\n    constructor() {\n        this.transitions = [];\n        this.current_id = 1;\n    }\n\n    create(): void {\n        let transition: Transition = new Transition(this.current_id);\n        transition.create();\n        this.current_id++;\n        this.transitions.push(transition);\n    }\n\n    removeAll(): void {\n        this.transitions = [];\n        this.current_id = 1;\n    }\n\n    getAll(): Transition[] {\n        return this.transitions;\n    }\n\n    getByID(id: number): Transition {\n        return this.transitions.find(transition => transition.getID() === id);\n    }\n\n    deleteElementByID(id: number): void {\n        let index = this.transitions.indexOf(this.getByID(id));\n        if (index !== -1) {\n            this.transitions.splice(index, 1);\n        }\n    }\n}","import { ClearBoardDialogComponent } from './app/components/dialogs/clear-board-dialog/clear-board-dialog.component';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { MatStepperModule } from '@angular/material/stepper';\nimport { MatDialogModule } from \"@angular/material/dialog\";\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\n\nimport { AppComponent } from './app/app.component';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { MenuStepOneComponent } from './app/components/board/side-menu/menu-step-one/menu-step-one.component';\nimport { MenuStepTwoComponent } from './app/components/board/side-menu/menu-step-two/menu-step-two.component';\nimport { MenuStepThreeComponent } from './app/components/board/side-menu/menu-step-three/menu-step-three.component';\nimport { BoardComponent } from './app/components/board/board.component';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    ClearBoardDialogComponent,\n    MenuStepOneComponent,\n    MenuStepTwoComponent,\n    MenuStepThreeComponent,\n    BoardComponent,\n  ],\n  imports: [\n    BrowserModule,\n    MatStepperModule,\n    BrowserAnimationsModule,\n    MatDialogModule,\n    MatButtonModule,\n    MatSnackBarModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent],\n  entryComponents: [ClearBoardDialogComponent]\n})\n\nexport class AppModule { }\n","import { NetRepository } from '../api/repositories/NetRepository';\nimport { BoardHelper } from '../api/helpers/BoardHelper';\nimport { ClearBoardDialogComponent } from './components/dialogs/clear-board-dialog/clear-board-dialog.component';\nimport { Component, Inject } from '@angular/core';\nimport {MatDialog, MatDialogRef} from \"@angular/material/dialog\";\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport * as $ from 'jquery';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\n\nexport class AppComponent {\n  title = 'Petri Nets Creator';\n\n  clearBoardDialogRef: MatDialogRef<ClearBoardDialogComponent>;\n  netRepository: NetRepository;\n\n  constructor(private dialog: MatDialog, private snackBar: MatSnackBar, @Inject(NetRepository) netRepository: NetRepository) {\n    this.netRepository = netRepository;\n    this.keyPressEventsHandler();\n  }\n\n  addPlace() {\n    this.netRepository.createPlace();\n  }\n\n  addTransition() {\n    this.netRepository.createTransition();\n  }\n\n  addArc() {\n    this.netRepository.createArc();\n  }\n\n  keyPressEventsHandler(): void {\n    $(document).off('keypress');\n    $(document).on('keypress', (event) => {\n      if(event.which === 67 || event.which == 99) {\n        this.netRepository.createArc();\n      }\n      else if(event.which === 8 || event.which === 100) {\n        this.deleteSelectedElements();\n      }\n    }); \n  }\n\n  private deleteSelectedElements(): void {\n    let elements = BoardHelper.getSelectedElements();\n    let board = BoardHelper.getBoard();\n\n    Array.from(elements).forEach(element => {\n      board.removeChild(element);\n      let id = element.getAttribute('id').split('-');\n      if(id[0] === 'place') {\n        this.netRepository.placeRepository.deleteElementByID(parseInt(id[1]));\n      } else if(id[0] === 'transition')  {\n        this.netRepository.transitionRepository.deleteElementByID(parseInt(id[1]));\n      }\n    });\n  }\n\n  undo() {\n    this.snackBar.open(\"Undo operation has been performed!\", \"close\", {\n      duration: 2000,\n    });\n  }\n\n  saveNet() {\n    this.snackBar.open(\"Net Model saved!\", \"close\", {\n      duration: 2000,\n    });  }\n\n  createPdf() {\n    this.snackBar.open(\"PDF Created!\", \"close\", {\n      duration: 2000,\n    });\n  }\n\n  openClearBoardDialog() {\n    this.clearBoardDialogRef = this.dialog.open(ClearBoardDialogComponent);\n\n    this.clearBoardDialogRef.afterClosed().subscribe(shouldClearBoard => {\n        if(shouldClearBoard) {\n          this.clear();\n          BoardHelper.addArrowHeadMarker();\n          this.netRepository.removeAllElements();\n        }\n      });    \n  }\n\n  clear() {  \n    let board = BoardHelper.getBoard();\n    while (board.firstChild) {\n        board.removeChild(board.firstChild);\n    }\n\n    BoardHelper.selectedElements = [];\n    this.snackBar.open(\"Board has been cleared!\", \"close\", {\n      duration: 2000,\n    });\n  }\n}\n","<div id=\"content\">\n  <div id=\"sidebar\">\n    <mat-horizontal-stepper id=\"stepper\" labelPosition=\"bottom\">\n      <mat-step>\n        <ng-template matStepLabel>Create</ng-template>\n        <app-menu-step-one \n          (addPlace)=\"addPlace()\"\n          (addTransition)=\"addTransition()\"\n          (addArc)=\"addArc()\">\n        </app-menu-step-one>\n      </mat-step>\n\n      <mat-step>\n        <ng-template matStepLabel>Inspect</ng-template>\n      </mat-step>\n\n      <mat-step>\n        <ng-template matStepLabel>Simulate</ng-template>\n      </mat-step>\n    </mat-horizontal-stepper>\n\n  </div>\n\n  <app-board\n    (openClearBoardDialog)=\"openClearBoardDialog()\"\n    (saveNet)=\"saveNet()\"\n    (createPdf)=\"createPdf()\">\n  </app-board>\n</div>\n\n\n","import { Component, OnInit, Output, EventEmitter } from '@angular/core';\n\n@Component({\n  selector: 'app-board',\n  templateUrl: './board.component.html',\n  styleUrls: ['./board.component.css']\n})\nexport class BoardComponent implements OnInit {\n  @Output(\"createPdf\") createPdfEmitter: EventEmitter<any> = new EventEmitter();\n  @Output(\"saveNet\") saveNetEmitter: EventEmitter<any> = new EventEmitter();\n  @Output(\"openClearBoardDialog\") openClearBoardDialogEmitter: EventEmitter<any> = new EventEmitter();\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n  createPdf(): void {\n    this.createPdfEmitter.emit();\n  }\n\n  saveNet(): void {\n    this.saveNetEmitter.emit();\n  }\n\n  openClearBoardDialog(): void {\n    this.openClearBoardDialogEmitter.emit();\n  }\n}\n","<div id=\"board\">\n    <div id=\"board-header\">\n      <div>\n        <span class=\"material-icons board-button\" (click)=\"createPdf()\">picture_as_pdf</span>\n      </div>\n\n      <div>\n        <span class=\"material-icons board-button\" (click)=\"saveNet()\">save_alt</span>\n      </div>\n\n      <div>\n        <span class=\"material-icons board-button\" (click)=\"openClearBoardDialog()\">close</span>\n      </div>\n      \n    </div>\n\n    <svg id=\"svg-board\">\n      <defs>\n        <marker id=\"arrow\" viewBox=\"0 0 10 10\"\n        refX=\"1\" refY=\"5\" \n        markerUnits=\"strokeWidth\"\n        markerWidth=\"10\" markerHeight=\"10\"\n        orient=\"auto\">\n          <path d=\"M 0 0 L 10 5 L 0 10 z\" fill=\"black\"/>\n        </marker>\n      </defs>\n    </svg>\n\n  </div>","import { Component, OnInit, Output, EventEmitter } from '@angular/core';\n\n@Component({\n  selector: 'app-menu-step-one',\n  templateUrl: './menu-step-one.component.html',\n  styleUrls: ['./menu-step-one.component.css']\n})\nexport class MenuStepOneComponent implements OnInit {\n  @Output(\"addPlace\") addNewPlace: EventEmitter<any> = new EventEmitter();\n  @Output(\"addTransition\") addNewTransition: EventEmitter<any> = new EventEmitter();\n  @Output(\"addArc\") addNewArc: EventEmitter<any> = new EventEmitter();\n  \n  constructor() { }\n\n  ngOnInit(): void {\n  }\n  \n  addPlace(): void {\n    this.addNewPlace.emit();\n  }\n  addTransition(): void {\n    this.addNewTransition.emit();\n  }\n\n  addArc(): void {\n    this.addNewArc.emit();\n  }\n}\n","<div>    \n  \n    <div class=\"card-container\">\n      <div class=\"card card-small\" tabindex=\"0\">\n        <span class=\"material-icons\">library_books</span>\n        <span class=\"button-text\">Saved Nets</span>\n      </div>\n    </div>\n\n    <div class=\"card-container\">\n      <div class=\"card card-small\" tabindex=\"0\">\n        <span class=\"material-icons\">edit</span>\n        <span class=\"button-text\">Create from Matrix</span>\n      </div>\n    </div>\n\n\n    <div class=\"card-container\">\n      <div class=\"card card-small\" tabindex=\"0\">\n        <span class=\"material-icons\">remove_red_eye</span> \n        <span class=\"button-text\">Show Net Matrix</span>\n      </div> \n    </div>\n\n    <div class=\"card-container\">\n      <div class=\"card card-small\" tabindex=\"0\">\n        <span class=\"material-icons\">transform</span> \n        <span class=\"button-text\">Minimize Net</span>\n      </div>\n    </div>\n\n    <div class=\"card-container\">\n      <a class=\"square-link\" title=\"Create Place\" (click)=\"addPlace()\">\n        <span class=\"material-icons net-elements-icons\">panorama_fish_eye</span>\n      </a>\n\n      <a class=\"square-link\" title=\"Create Trainsition\" (click)=\"addTransition()\">\n        <span class=\"net-elements-icons transition-icon\">\n        </span>\n      </a>\n          \n      <a class=\"square-link\" title=\"Create Arc\" (click)=\"addArc()\">\n        <span class=\"material-icons net-elements-icons\">north_east</span>\n      </a>\n    </div>  \n  </div>","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-menu-step-three',\n  templateUrl: './menu-step-three.component.html',\n  styleUrls: ['./menu-step-three.component.css']\n})\nexport class MenuStepThreeComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<p>menu-step-three works!</p>\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-menu-step-two',\n  templateUrl: './menu-step-two.component.html',\n  styleUrls: ['./menu-step-two.component.css']\n})\nexport class MenuStepTwoComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<p>menu-step-two works!</p>\n","import {Component} from '@angular/core';\nimport {MatDialogRef} from '@angular/material/dialog';\nimport '@angular/material/prebuilt-themes/indigo-pink.css';\n\n@Component({\n    templateUrl: './clear-board-dialog.component.html',\n    styleUrls: ['./clear-board-dialog.component.css']\n})\n\nexport class ClearBoardDialogComponent {\n  deleteChanges: boolean;\n\n  constructor(private dialogRef: MatDialogRef<ClearBoardDialogComponent>) {\n    this.deleteChanges = false;\n  }\n\n  delete() {\n    this.deleteChanges = true;\n    this.dialogRef.close(this.deleteChanges);\n  }\n\n  close() {\n    this.dialogRef.close(this.deleteChanges);\n  }\n}","<h2 mat-dialog-title>Delete all elements?</h2>\n<mat-dialog-content>\n  This will delete all elements that are currently on this page and cannot be undone.\n</mat-dialog-content>\n<mat-dialog-actions>\n  <mat-dialog-actions>\n    <button mat-raised-button color=\"basic\" (click)=\"close()\">Keep Changes</button>\n    <button  mat-raised-button color=\"warn\" (click)=\"delete()\">Delete</button>\n  </mat-dialog-actions>\n</mat-dialog-actions>","export const place_radius = 30;\nexport const place_fill_color = \"white\";\n\nexport const transition_width = 70;\nexport const transition_height = 20;\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import '@angular/compiler';\n\nimport { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"]}