{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///src/app/api/helpers/ArcHelper.ts","webpack:///src/app/api/helpers/BoardHelper.ts","webpack:///src/app/api/helpers/PlaceHelper.ts","webpack:///src/app/api/helpers/TransitionHelper.ts","webpack:///src/app/api/models/Arc.ts","webpack:///src/app/api/models/Place.ts","webpack:///src/app/api/models/Transition.ts","webpack:///src/app/api/repositories/ArcRepository.ts","webpack:///src/app/api/repositories/NetRepository.ts","webpack:///src/app/api/repositories/PlaceRepository.ts","webpack:///src/app/api/repositories/TransitionRepository.ts","webpack:///src/app/app.module.ts","webpack:///src/app/app/app.component.ts","webpack:///src/app/app/app.component.html","webpack:///src/app/app/components/board/board.component.ts","webpack:///src/app/app/components/board/board.component.html","webpack:///src/app/app/components/board/side-menu/menu-step-one/menu-step-one.component.ts","webpack:///src/app/app/components/board/side-menu/menu-step-one/menu-step-one.component.html","webpack:///src/app/app/components/board/side-menu/menu-step-three/menu-step-three.component.ts","webpack:///src/app/app/components/board/side-menu/menu-step-three/menu-step-three.component.html","webpack:///src/app/app/components/board/side-menu/menu-step-two/menu-step-two.component.ts","webpack:///src/app/app/components/board/side-menu/menu-step-two/menu-step-two.component.html","webpack:///src/app/app/components/dialogs/clear-board-dialog/clear-board-dialog.component.ts","webpack:///src/app/app/components/dialogs/clear-board-dialog/clear-board-dialog.component.html","webpack:///src/app/app/shared/constants.ts","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","ArcHelper","getConnectedArrowsIDs","forEach","arrowID","startID","split","endID","getCoorinatesOfElement","x1","y1","x2","y2","connectToNearestEnd","document","getElementById","attr","allArrows","Array","from","getElementsByClassName","connectedElementsIDs","arrow","getAttribute","push","x","y","element","includes","parseInt","start_id","start_x","start_y","end_x","end_y","adjustArrowPosition","adjustPlaceTop","adjustTransitionTop","adjustPlaceBottom","adjustTransitionBottom","adjustPlaceLeft","adjustTransitionLeft","adjustPlaceRight","adjustTransitionRight","adjustPlaceTopLeft","adjustTransitionTopLeft","adjustPlaceBottomLeft","adjustTransitionBottomLeft","adjustPlaceTopRight","adjustTransitionTopRight","adjustPlaceBottomRight","adjustTransitionBottomRight","alert","BoardHelper","getBoard","off","classList","contains","remove","getSelectedElements","filter","selectedEelemnt","startsWith","setAttribute","selectedElements","addEventListener","detail","preventDefault","defs","createElementNS","marker","path","appendChild","index","indexOf","splice","PlaceHelper","x_position","y_position","place","toString","text","innerHTML","append","removeSelectionOfLabel","label","domID","domElement","TransitionHelper","transition","arc_id_prefix","Arc","color","arc","selectedElementEvents","getDomID","on","unselect","select","add","removeSelectedElementFromListByID","place_id_prefix","Place","createPlaceWtihLabel","attachListeners","board","event","movePlaceWithLabel","pageX","pageY","moveArrow","move","transition_id_prefix","Transition","createTransitionWithLabel","moveTransitionWithLabel","ArcRepository","snackBar","getSelectedElementsWithoutLabels","isValid","validateConnection","create","removeSelection","validateNumberOfElements","validateObjectsType","validateIfElementIsArc","length","open","panelClass","providedIn","NetRepository","placeRepository","transitionRepository","arcRepository","removeAll","PlaceRepository","places","current_id","find","getID","getByID","TransitionRepository","transitions","AppModule","declarations","imports","providers","bootstrap","entryComponents","AppComponent","dialog","netRepository","title","keyPressEventsHandler","setDefualtCursor","createPlace","createTransition","elements","getAll","keyCode","which","addArc","addPlace","addTransition","deleteSelectedElements","removeChild","deleteElementByID","duration","clearBoardDialogRef","afterClosed","subscribe","shouldClearBoard","clear","addArrowHeadMarker","removeAllElements","firstChild","openClearBoardDialog","saveNet","createPdf","selector","templateUrl","styleUrls","BoardComponent","createPdfEmitter","saveNetEmitter","openClearBoardDialogEmitter","emit","MenuStepOneComponent","addNewPlace","addNewTransition","addNewArc","MenuStepThreeComponent","MenuStepTwoComponent","ClearBoardDialogComponent","dialogRef","deleteChanges","close","place_radius","place_fill_color","transition_width","transition_height","environment","production","bootstrapModule","err","console","error"],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import * as $ from 'jquery';\n\nexport class ArcHelper {\n    static moveArrow(id: string): void {\n        ArcHelper.getConnectedArrowsIDs(id).forEach(arrowID => {\n            let startID = arrowID.split(\":\")[0];\n            let endID = arrowID.split(\":\")[1];\n\n            let [x1, y1] = this.getCoorinatesOfElement(startID);\n            let [x2, y2] = this.getCoorinatesOfElement(endID);\n            [x1, y1, x2, y2] = this.connectToNearestEnd(startID, x1, y1, x2, y2);\n\n            $(document.getElementById(arrowID)).attr(\"x1\", x1);\n            $(document.getElementById(arrowID)).attr(\"y1\", y1);\n            $(document.getElementById(arrowID)).attr(\"x2\", x2);\n            $(document.getElementById(arrowID)).attr(\"y2\", y2);\n        });\n    }\n\n    static getConnectedArrowsIDs(id: string): string[] {\n        let allArrows = Array.from(document.getElementsByClassName(\"arc\"));\n        let connectedElementsIDs = [];\n        allArrows.forEach(arrow => {\n            let arrowID: string = arrow.getAttribute('id');\n            let startID = arrowID.split(\":\")[0];\n            let endID = arrowID.split(\":\")[1];\n            if(startID === id || endID === id) {\n                connectedElementsIDs.push(arrowID);\n            }\n        });\n        return connectedElementsIDs;\n    }\n\n    static getCoorinatesOfElement(id: string): [number, number] {\n        let x: number, y: number;\n        let element: Element = document.getElementById(id);\n        if(element.getAttribute(\"id\").includes(\"place\")) {\n            x = parseInt(element.getAttribute('cx'));\n            y = parseInt(element.getAttribute('cy'));\n        } else {\n            x = parseInt(element.getAttribute('x'));\n            y = parseInt(element.getAttribute('y'));\n        }\n        return [x, y];\n    }\n\n    static  connectToNearestEnd(\n        start_id: string, start_x: number, start_y: number,\n        end_x: number, end_y: number\n    ): [number, number, number, number] {\n\n            if(start_id.includes('place')) {\n                [start_x, start_y, end_x, end_y] = \n                    this.adjustArrowPosition('place', start_x, start_y, end_x, end_y);\n            } else if(start_id.includes('transition')) {\n                [start_x, start_y, end_x, end_y] = \n                this.adjustArrowPosition('transition', start_x, start_y, end_x, end_y);\n            }\n\n        return [start_x, start_y, end_x, end_y];\n    }\n\n\n    static adjustArrowPosition(\n        start_id: string, start_x: number, start_y: number,\n        end_x: number, end_y: number\n    ): [number, number, number, number] {\n\n        if(start_x - end_x > -80 && start_x - end_x < 100) {\n            if(start_y - end_y < 0) {\n                if(start_id === 'place') {\n                    [start_x, start_y, end_x, end_y] =\n                        this.adjustPlaceTop(start_x, start_y, end_x, end_y);\n                } else {\n                    [start_x, start_y, end_x, end_y] =\n                        this.adjustTransitionTop(start_x, start_y, end_x, end_y);\n                }\n            } \n            else {\n                if(start_id === 'place') {\n                    [start_x, start_y, end_x, end_y] = \n                        this.adjustPlaceBottom(start_x, start_y, end_x, end_y);\n                } else {\n                    [start_x, start_y, end_x, end_y] = \n                        this.adjustTransitionBottom(start_x, start_y, end_x, end_y);\n                }\n            }\n        } \n        else if(start_y - end_y > -80 && start_y - end_y < 100) {\n            if(start_x - end_x < 0) {\n                if(start_id === 'place') {\n                    [start_x, start_y, end_x, end_y] =\n                        this.adjustPlaceLeft(start_x, start_y, end_x, end_y);\n                } else {\n                    [start_x, start_y, end_x, end_y] =\n                        this.adjustTransitionLeft(start_x, start_y, end_x, end_y);\n                }\n            } \n            else {\n                if(start_id === 'place') {\n                        [start_x, start_y, end_x, end_y] =\n                        this.adjustPlaceRight(start_x, start_y, end_x, end_y);\n                }else {\n                    [start_x, start_y, end_x, end_y] =\n                        this.adjustTransitionRight(start_x, start_y, end_x, end_y);\n                }\n            }\n        }\n\n        else if(start_x - end_x < -80) {\n            if(start_y - end_y < 50) {\n                if(start_id === 'place') {\n                    [start_x, start_y, end_x, end_y] = \n                        this.adjustPlaceTopLeft(start_x, start_y, end_x, end_y);\n                } else {\n                    [start_x, start_y, end_x, end_y] = \n                        this.adjustTransitionTopLeft(start_x, start_y, end_x, end_y);\n                }\n            }\n            else {\n                if(start_id === 'place') {\n                    [start_x, start_y, end_x, end_y] = \n                        this.adjustPlaceBottomLeft(start_x, start_y, end_x, end_y);\n                } else {\n                    [start_x, start_y, end_x, end_y] = \n                        this.adjustTransitionBottomLeft(start_x, start_y, end_x, end_y);\n                }\n            }\n        }\n\n        else if(start_x - end_x > 100) {\n            if(start_y - end_y < 50) {\n                if(start_id === 'place') {\n                    [start_x, start_y, end_x, end_y] =\n                        this.adjustPlaceTopRight(start_x, start_y, end_x, end_y);\n                } else {\n                    [start_x, start_y, end_x, end_y] =\n                        this.adjustTransitionTopRight(start_x, start_y, end_x, end_y);\n                }\n                    \n            }\n            else {\n                if(start_id === 'place') {\n                    [start_x, start_y, end_x, end_y] = \n                        this.adjustPlaceBottomRight(start_x, start_y, end_x, end_y);\n                } else {\n                    [start_x, start_y, end_x, end_y] =\n                        this.adjustTransitionBottomRight(start_x, start_y, end_x, end_y);\n                }\n            }\n        } else {\n            alert('Unhandled position')\n        }\n\n        return [start_x, start_y, end_x, end_y];\n    }\n\n    ///////////////////////\n    // Place Adjustments //\n    ///////////////////////\n    static adjustPlaceTop(start_x, start_y, end_x, end_y): [number, number, number, number] {\n        return [start_x, start_y + 30, end_x + 35, end_y - 3];\n    }\n\n    static adjustPlaceTopLeft(start_x, start_y, end_x, end_y): [number, number, number, number] {\n        return [start_x + 21.2, start_y + 21.2, end_x + 25, end_y - 3];\n    }\n\n    static adjustPlaceTopRight(start_x, start_y, end_x, end_y): [number, number, number, number] {\n        return [start_x - 21.2, start_y + 21.2, end_x + 45, end_y - 3];\n    }\n\n    static adjustPlaceBottom(start_x, start_y, end_x, end_y): [number, number, number, number] {\n        return [start_x, start_y - 30, end_x + 35, end_y + 25];\n    }\n\n    static adjustPlaceBottomLeft(start_x, start_y, end_x, end_y): [number, number, number, number] {\n        return [start_x + 21.2, start_y - 21.2, end_x + 25, end_y + 23];\n    }\n\n    static adjustPlaceBottomRight(start_x, start_y, end_x, end_y): [number, number, number, number] {\n        return [start_x - 21.2, start_y - 21.2, end_x + 45, end_y + 25];\n    }\n\n    static adjustPlaceLeft(start_x, start_y, end_x, end_y): [number, number, number, number] {\n        return [start_x + 30, start_y, end_x - 8, end_y + 12];\n    }\n\n    static adjustPlaceRight(start_x, start_y, end_x, end_y): [number, number, number, number] {\n        return [start_x - 30, start_y, end_x + 75, end_y + 10];\n    }\n\n    ////////////////////////////\n    // Transition Adjustments //\n    ////////////////////////////\n    static adjustTransitionTop(start_x, start_y, end_x, end_y): [number, number, number, number] {\n        return [start_x + 35, start_y + 20, end_x, end_y - 39];\n    }\n\n    static adjustTransitionTopLeft(start_x, start_y, end_x, end_y): [number, number, number, number] {\n        return [start_x + 35, start_y + 20, end_x - 30, end_y - 25];\n    }\n\n    static adjustTransitionTopRight(start_x, start_y, end_x, end_y): [number, number, number, number] {\n        return [start_x + 35, start_y + 20, end_x + 30, end_y - 25];\n    }\n\n    static adjustTransitionBottom(start_x, start_y, end_x, end_y): [number, number, number, number] {\n        return [start_x + 35, start_y, end_x, end_y + 35];\n    }\n\n    static adjustTransitionBottomLeft(start_x, start_y, end_x, end_y): [number, number, number, number] {\n        return [start_x + 35, start_y, end_x - 30, end_y + 25];\n    }\n\n    static adjustTransitionBottomRight(start_x, start_y, end_x, end_y): [number, number, number, number] {\n        return [start_x + 35, start_y, end_x + 30, end_y + 25];\n    }\n\n    static adjustTransitionLeft(start_x, start_y, end_x, end_y): [number, number, number, number] {\n        return [start_x + 70, start_y + 10, end_x - 39, end_y];\n    }\n\n    static adjustTransitionRight(start_x, start_y, end_x, end_y): [number, number, number, number] {\n        return [start_x, start_y + 10, end_x + 39, end_y];\n    }\n}","import * as $ from 'jquery';\n\nexport class BoardHelper {\n    static selectedElements: string[] = [];\n\n    static setDefualtCursor(): void {\n        $(this.getBoard()).off('click');\n\n        let classList = this.getBoard().classList;\n        if(classList.contains('cursor-place')) {\n            this.getBoard().classList.remove('cursor-place');\n        } else if(classList.contains('cursor-transition')) {\n            this.getBoard().classList.remove('cursor-transition');\n        } else if(classList.contains('cursor-arc')) {\n            this.getBoard().classList.remove('cursor-arc');\n        }\n    }\n\n    static getSelectedElements(): HTMLCollection {\n        return document.getElementsByClassName('selected');\n    }\n\n    static getSelectedElementsWithoutLabels(): Element[] {\n        return Array.from(this.getSelectedElements()).filter(selectedEelemnt => {\n            return !selectedEelemnt.getAttribute('id').startsWith('label');\n        })\n    }\n\n    static removeSelection(): void {\n        Array.from(this.getSelectedElements()).forEach(element => {\n            element.classList.remove('selected');\n            if(!element.getAttribute('id').includes('label')) {\n                element.setAttribute('stroke', 'black');\n            }\n        });\n        this.selectedElements = [];\n    }\n\n    static getBoard(): HTMLElement {\n        return document.getElementById('svg-board');\n    }\n\n    static removeSelectionOfLabel(element: SVGElement): void {\n        element.addEventListener('mousedown', function(e){\n            if (e.detail > 1){\n                e.preventDefault();\n            }\n        });\n    }\n\n    static addArrowHeadMarker() {\n        let defs = document.createElementNS(\"http://www.w3.org/2000/svg\",\"defs\");\n        let marker = document.createElementNS(\"http://www.w3.org/2000/svg\", 'marker');\n\n        marker.setAttribute(\"id\", \"arrow\");\n        marker.setAttribute(\"viewBox\", \"0 0 10 10\");\n        marker.setAttribute(\"refX\", \"1\");\n        marker.setAttribute(\"refY\", \"5\");\n        marker.setAttribute(\"markerWidth\", \"10\");\n        marker.setAttribute(\"markerHeight\", \"10\");\n        marker.setAttribute(\"orient\", \"auto\");\n\n        let path = document.createElementNS(\"http://www.w3.org/2000/svg\", 'path');\n        path.setAttribute(\"d\", \"M 0 0 L 10 5 L 0 10 z\");\n        path.setAttribute(\"fill\", \"black;\");\n        \n        marker.appendChild(path);\n        defs.appendChild(marker);\n        this.getBoard().appendChild(defs);\n    }\n\n    static removeSelectedElementFromListByID(id: string) {\n        let index = this.selectedElements.indexOf(id);\n        if (index !== -1) {\n            this.selectedElements.splice(index, 1);\n        }\n    }\n}","import { place_radius, place_fill_color } from './../../app/shared/constants';\nimport { BoardHelper } from './BoardHelper';\n\nexport class PlaceHelper {\n    \n    static getAll(): HTMLCollection {\n        return document.getElementsByClassName('place');\n    }\n\n    static createPlaceWtihLabel(id: number, x_position: number, y_position: number): void {\n        let place = document.createElementNS(\"http://www.w3.org/2000/svg\", \"circle\");\n\n        place.setAttribute(\"id\", \"place-\" + id);\n        place.setAttribute(\"class\", \"net-element place\");\n        place.setAttribute(\"cx\", x_position.toString());\n        place.setAttribute(\"cy\", y_position.toString());\n        place.setAttribute(\"r\", place_radius.toString());\n        place.setAttribute(\"stroke\", \"black\");\n        place.setAttribute(\"stroke-width\", '2');\n        place.setAttribute(\"fill\", place_fill_color);\n        \n        let text = document.createElementNS(\"http://www.w3.org/2000/svg\", \"text\");\n        text.setAttribute(\"id\", \"label-place-\" + id);\n        text.setAttribute(\"x\", x_position.toString());\n        text.setAttribute(\"y\", y_position.toString());\n        text.setAttribute(\"fill\", \"black\");\n        text.setAttribute(\"dy\", \".3em\");\n        text.setAttribute(\"text-anchor\", \"middle\");\n        text.setAttribute(\"font-size\", \"20px\");\n        text.innerHTML = 'p' + id;\n\n        BoardHelper.getBoard().append(place);\n        BoardHelper.getBoard().append(text);\n        BoardHelper.removeSelectionOfLabel(place);\n    }\n\n    static movePlaceWithLabel(place: HTMLElement, label: HTMLElement, x_position: number, y_position: number): void {\n        const x = (x_position - 200);\n        const y = (y_position - 15);\n        place.setAttribute('cx', x.toString());\n        place.setAttribute('cy', y.toString());\n\n        label.setAttribute('x', x.toString());\n        label.setAttribute('y', y.toString());\n    }\n\n    static getPlacePositionByID(id: number): [number, number] {\n        let domID = \"place-\" + id;\n        let domElement = document.getElementById(domID);\n        return [parseInt(domElement.getAttribute('cx')), parseInt(domElement.getAttribute('cy'))];\n    }\n}","import { transition_width, transition_height } from './../../app/shared/constants';\nimport { BoardHelper } from './BoardHelper';\n\nexport class TransitionHelper {\n\n    static getAll(): HTMLCollection {\n        return document.getElementsByClassName('transition');\n    }\n\n    static createTransitionWithLabel(id: number, x_position: number, y_position: number): void {\n        let transition = document.createElementNS(\"http://www.w3.org/2000/svg\", \"rect\");\n\n        transition.setAttribute(\"id\", \"transition-\" + id);\n        transition.setAttribute(\"class\", \"net-element transition\");\n        transition.setAttribute(\"x\", x_position.toString());\n        transition.setAttribute(\"y\", y_position.toString());\n        transition.setAttribute(\"width\", transition_width.toString());\n        transition.setAttribute(\"height\", transition_height.toString());\n        transition.setAttribute(\"stroke\", 'black');\n        transition.setAttribute(\"stroke-width\", '2');\n        transition.setAttribute(\"fill\", 'white');\n        \n        let text = document.createElementNS(\"http://www.w3.org/2000/svg\", \"text\");\n        text.setAttribute(\"id\", \"label-transition-\" + id);\n        text.setAttribute(\"x\", (x_position + 35).toString());\n        text.setAttribute(\"y\", (y_position + 10).toString());\n        text.setAttribute(\"fill\", \"black\");\n        text.setAttribute(\"dy\", \".3em\");\n        text.setAttribute(\"text-anchor\", \"middle\");\n        text.setAttribute(\"font-size\", \"20px\");\n        text.innerHTML = 't' + id;\n\n        BoardHelper.getBoard().append(transition);\n        BoardHelper.getBoard().append(text);\n        BoardHelper.removeSelectionOfLabel(transition);\n    }\n\n    static moveTransitionWithLabel(transition: HTMLElement, label: HTMLElement, x_position: number, y_position: number): void {\n        transition.setAttribute('x', (x_position - 235).toString());\n        transition.setAttribute('y', (y_position - 35).toString());\n\n        label.setAttribute('x', (x_position - 200).toString());\n        label.setAttribute('y', (y_position - 25).toString());\n    }\n\n    static getPlaceTransitionByID(id: number): [number, number] {\n        let domID = \"transition-\" + id;\n        let domElement = document.getElementById(domID);\n        return [parseInt(domElement.getAttribute('x')), parseInt(domElement.getAttribute('y'))];\n    }\n}","import { ArcHelper } from './../helpers/ArcHelper';\nimport { BoardHelper } from './../helpers/BoardHelper';\nimport { INetElement } from './INetElement';\nimport * as $ from 'jquery';\n\nconst arc_id_prefix = 'arc-';\n\nexport class Arc implements INetElement {\n    id: string;\n    color: string = \"black\";\n\n    constructor() {\n        this.id = \n            document.getElementById(BoardHelper.selectedElements[0]).getAttribute('id') + \n            ':' + \n            document.getElementById(BoardHelper.selectedElements[1]).getAttribute('id');\n    }\n\n    getID(): string {\n        return this.id;\n    }\n\n    create(): void {\n        let [start_x, start_y] = ArcHelper.getCoorinatesOfElement(BoardHelper.selectedElements[0]);\n        let [end_x, end_y] = ArcHelper.getCoorinatesOfElement(BoardHelper.selectedElements[1]);\n        \n        [start_x, start_y, end_x, end_y] = \n        ArcHelper.connectToNearestEnd(\n                                    BoardHelper.selectedElements[0], start_x, start_y,\n                                     end_x, end_y);\n\n        let arc = document.createElementNS(\"http://www.w3.org/2000/svg\", \"line\");\n\n        arc.setAttribute(\"id\", this.id);\n        arc.setAttribute(\"class\", \"net-element arc\");\n        arc.setAttribute(\"x1\", start_x.toString());\n        arc.setAttribute(\"y1\", start_y.toString());\n        arc.setAttribute(\"x2\", end_x.toString());\n        arc.setAttribute(\"y2\", end_y.toString());\n        arc.setAttribute(\"stroke\", \"black\");\n        arc.setAttribute(\"stroke-width\", \"1\");\n        arc.setAttribute(\"marker-end\", \"url(#arrow)\");\n        document.getElementById(\"svg-board\").append(arc);\n\n        this.selectedElementEvents();\n    }\n\n    move(): void {\n        throw new Error(\"Method not implemented.\");\n    }\n\n    selectedElementEvents() {\n        let arc = document.getElementById(this.getDomID());\n        $(arc).off('dblclick');\n        $(arc).on('dblclick', () => {\n            if(arc.classList.contains('selected')) {\n                this.unselect(arc);\n            } else {\n                this.select(arc);\n            }\n        });      \n    }\n\n    select(arc: HTMLElement): void {\n        arc.classList.add('selected');\n        arc.setAttribute('stroke', 'red');\n        BoardHelper.selectedElements.push(arc.getAttribute('id'));    \n    }\n\n    unselect(arc: HTMLElement): void {\n        arc.classList.remove('selected');\n        arc.setAttribute('stroke', 'black');\n        BoardHelper.removeSelectedElementFromListByID(arc.getAttribute('id'));    \n    }\n\n    private getDomID(): string {\n        return arc_id_prefix + this.id;\n    }\n}","import { ArcHelper } from './../helpers/ArcHelper';\nimport { BoardHelper } from './../helpers/BoardHelper';\nimport { PlaceHelper } from '../helpers/PlaceHelper';\nimport { INetElement } from './INetElement';\nimport * as $ from 'jquery';\n\nconst place_id_prefix = 'place-';\n\nexport class Place implements INetElement {\n    id: number;\n    color: string = 'white';\n\n    constructor(id: number) {\n        this.id = id;\n    }   \n\n    getID(): number {\n        return this.id;\n    }\n\n    create(x: number, y: number): void {\n        PlaceHelper.createPlaceWtihLabel(this.id, x - 170, y);\n        this.attachListeners();\n    }\n\n    selectedElementEvents() {\n        let place = document.getElementById(this.getDomID());\n        let label = document.getElementById('label-' + this.getDomID());\n        $(place).off('dblclick');\n        $(place).on('dblclick', () => {\n            if(place.classList.contains('selected')) {\n                this.unselect(place, label);\n            } else {\n                this.select(place, label);\n            }\n        });      \n    }\n\n    select(place: HTMLElement, label: HTMLElement): void {\n        place.classList.add('selected');\n        label.classList.add('selected');\n        place.setAttribute('stroke', 'red');\n        BoardHelper.selectedElements.push(place.getAttribute('id'));\n    }\n\n    unselect(place: HTMLElement, label: HTMLElement): void {\n        place.classList.remove('selected');\n        label.classList.remove('selected');\n        place.setAttribute('stroke', 'black');\n        BoardHelper.removeSelectedElementFromListByID(place.getAttribute('id'));\n    }\n    \n    move(): void {\n        let place = document.getElementById(this.getDomID());\n        let label = document.getElementById('label-' + this.getDomID());\n        let board = document.getElementById('svg-board');\n        \n        $(place).off('mousedown');\n        $(place).on('mousedown', () => {\n            place.classList.add('active');\n\n            $(board).off('mousemove');\n            $(board).on('mousemove', (event) => {\n                PlaceHelper.movePlaceWithLabel(place, label, event.pageX, event.pageY);\n                ArcHelper.moveArrow(this.getDomID());\n            });\n\n            $(board).off('mouseup');\n            $(board).on('mouseup', () => {\n                $(board).off('mousemove');\n                place.classList.remove('active');\n            });\n        });\n    }\n\n    // probably should move to upper class and use this method\n    connect(): void {\n        throw new Error(\"Method not implemented.\");\n    }\n\n    private attachListeners(): void {\n        this.selectedElementEvents();\n        this.move();\n    }\n\n    private getDomID(): string {\n        return place_id_prefix + this.id;\n    }\n}","import { ArcHelper } from './../helpers/ArcHelper';\nimport { BoardHelper } from './../helpers/BoardHelper';\nimport { TransitionHelper } from '../helpers/TransitionHelper';\nimport { INetElement } from './INetElement';\nimport * as $ from 'jquery';\n\nconst transition_id_prefix = 'transition-';\n\nexport class Transition implements INetElement {\n    id: number;\n    color: string = \"white\";\n\n    constructor(id: number) {\n        this.id = id;\n    }\n\n    getID(): number {\n        return this.id;\n    }\n    \n    create(x_position: number, y_position: number): void {\n        TransitionHelper.createTransitionWithLabel(this.id, x_position - 200, y_position - 25);\n        this.attachListeners();\n    }\n\n    selectedElementEvents() {\n        let transition = document.getElementById(this.getDomID());\n        let label = document.getElementById('label-' + this.getDomID());\n\n        $(transition).off('dblclick');\n        $(transition).on('dblclick', () => {\n            if(transition.classList.contains('selected')) {\n                this.unselect(transition, label);\n            } else {\n                this.select(transition, label);\n            }\n        });      \n    }\n\n    select(transition: HTMLElement, label: HTMLElement): void {\n        transition.classList.add('selected');\n        label.classList.add('selected');\n        transition.setAttribute('stroke', 'red');\n        BoardHelper.selectedElements.push(transition.getAttribute('id'));\n    }\n\n    unselect(transition: HTMLElement, label: HTMLElement): void {\n        transition.classList.remove('selected');\n        label.classList.remove('selected');\n        transition.setAttribute('stroke', 'black');\n        BoardHelper.removeSelectedElementFromListByID(transition.getAttribute('id'));\n    }\n\n    move(): void {\n        let transition = document.getElementById(this.getDomID());\n        let label = document.getElementById('label-' + this.getDomID());\n        let board = document.getElementById('svg-board');\n        \n        $(transition).off('mousedown');\n        transition.addEventListener('mousedown', () => {\n            transition.classList.add('active');\n            $(board).on('mousemove', (event) => {\n                TransitionHelper.moveTransitionWithLabel(transition, label, event.pageX, event.pageY);\n                ArcHelper.moveArrow(this.getDomID());\n            });\n\n            $(board).on('mouseup', () => {\n                $(board).off('mousemove');\n                transition.classList.remove('active');\n            });\n        });    \n    }\n\n    private attachListeners(): void {\n        this.selectedElementEvents();\n        this.move();\n    }\n\n    private getDomID(): string {\n        return transition_id_prefix + this.id;\n    }\n\n}","import { ArcHelper } from './../helpers/ArcHelper';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { BoardHelper } from './../helpers/BoardHelper';\nimport { Injectable, Inject } from '@angular/core';\nimport { Arc } from './../models/Arc';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ArcRepository {\n\n    constructor(private snackBar: MatSnackBar) {}\n    \n    create(): void {\n        let selectedElements: Element[] = BoardHelper.getSelectedElementsWithoutLabels();\n        let isValid = this.validateConnection(selectedElements);\n        if(isValid) {\n            let arc = new Arc(); // id of start and end element\n            arc.create();\n            BoardHelper.removeSelection();\n        }\n    }\n\n    validateConnection(selectedElements: Element[]): boolean {\n        if(!this.validateNumberOfElements(selectedElements) ||\n            !this.validateObjectsType(selectedElements) ||\n            !this.validateIfElementIsArc(selectedElements)) {\n            return false;\n        }\n        return true;\n    }\n\n    private validateNumberOfElements(selectedElements: Element[]): boolean {\n        if(selectedElements.length !== 2) {\n            this.snackBar.open(\n                \"Bad number of elements selected. Please select exactly 2 elements!\", \n                \"Got it!\", \n                { panelClass: ['error'] }\n            );\n            return false;\n        } \n        return true;\n    }\n\n    private validateObjectsType(selectedElements: Element[]): boolean {\n        if(selectedElements[0].getAttribute('class') === selectedElements[1].getAttribute('class')) {\n            this.snackBar.open(\n                \"Cannot connect two elements of same type!\", \n                \"Got it!\", \n                { panelClass: ['error'] }\n            );\n            return false;\n        } \n        return true;\n    }\n\n    private validateIfElementIsArc(selectedElements: Element[]): boolean {\n        if(selectedElements[0].getAttribute('class').includes('arc') || selectedElements[1].getAttribute('class').includes('arc')) {\n            this.snackBar.open(\n                \"Cannot connect two elements of same type!\", \n                \"Got it!\", \n                { panelClass: ['error'] }\n            );\n            return false;\n        } \n        return true;\n    }\n}","import { Place } from './../models/Place';\nimport { INetElement } from './../models/INetElement';\nimport { ArcRepository } from './ArcRepository';\nimport { TransitionRepository } from './TransitionRepository';\nimport { PlaceRepository } from './PlaceRepository';\nimport { Injectable, Inject } from '@angular/core';\nimport { Transition } from '../models/Transition';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class NetRepository {\n    placeRepository: PlaceRepository;\n    transitionRepository: TransitionRepository;\n    arcRepository: ArcRepository;\n\n    selectedElements: [];\n\n    constructor(\n        @Inject(PlaceRepository) placeRepository: PlaceRepository, \n        @Inject(TransitionRepository) transitionRepository: TransitionRepository,\n        @Inject(ArcRepository) arcRepository: ArcRepository) {\n            this.placeRepository = placeRepository;\n            this.transitionRepository = transitionRepository;\n            this.arcRepository = arcRepository;\n\n            this.selectedElements = [];\n    }\n\n    createPlace(x: number, y: number) {\n        this.placeRepository.create(x, y);\n\n    }\n\n    createTransition(x: number, y: number) {\n        this.transitionRepository.create(x, y);\n    }\n\n    createArc() {\n        this.arcRepository.create();\n    }\n\n    removeAllElements(): void {\n        this.placeRepository.removeAll();\n        this.transitionRepository.removeAll();\n    }\n}","import { Injectable } from '@angular/core';\nimport { Place } from './../models/Place';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class PlaceRepository {\n    places: Place[];\n    current_id: number;\n\n    constructor() {\n        this.places = [];\n        this.current_id = 1;\n    }\n\n    create(x: number, y: number): void {\n        let place: Place = new Place(this.current_id);\n        place.create(x, y);\n        this.current_id++;\n        this.places.push(place);\n    }\n\n    removeAll(): void {\n        this.places = [];\n        this.current_id = 1;\n    }\n\n    getAll(): Place[] {\n        return this.places;\n    }\n\n    getByID(id: number): Place {\n        return this.places.find(place => place.getID() === id);\n    }\n    \n    deleteElementByID(id: number): void {\n        let index = this.places.indexOf(this.getByID(id));\n        if (index !== -1) {\n            this.places.splice(index, 1);\n        }\n    }\n}","import { Injectable } from '@angular/core';\nimport { Transition } from './../models/Transition';\nimport { INetElement } from './../models/INetElement';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class TransitionRepository {\n    transitions: Transition[];\n    current_id: number;\n\n    constructor() {\n        this.transitions = [];\n        this.current_id = 1;\n    }\n\n    create(x: number, y: number): void {\n        let transition: Transition = new Transition(this.current_id);\n        transition.create(x, y);\n        this.current_id++;\n        this.transitions.push(transition);\n    }\n\n    removeAll(): void {\n        this.transitions = [];\n        this.current_id = 1;\n    }\n\n    getAll(): Transition[] {\n        return this.transitions;\n    }\n\n    getByID(id: number): Transition {\n        return this.transitions.find(transition => transition.getID() === id);\n    }\n\n    deleteElementByID(id: number): void {\n        let index = this.transitions.indexOf(this.getByID(id));\n        if (index !== -1) {\n            this.transitions.splice(index, 1);\n        }\n    }\n}","import { ClearBoardDialogComponent } from './app/components/dialogs/clear-board-dialog/clear-board-dialog.component';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { MatStepperModule } from '@angular/material/stepper';\nimport { MatDialogModule } from \"@angular/material/dialog\";\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\nimport { MatTooltipModule } from '@angular/material/tooltip';\n\nimport { AppComponent } from './app/app.component';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { MenuStepOneComponent } from './app/components/board/side-menu/menu-step-one/menu-step-one.component';\nimport { MenuStepTwoComponent } from './app/components/board/side-menu/menu-step-two/menu-step-two.component';\nimport { MenuStepThreeComponent } from './app/components/board/side-menu/menu-step-three/menu-step-three.component';\nimport { BoardComponent } from './app/components/board/board.component';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    ClearBoardDialogComponent,\n    MenuStepOneComponent,\n    MenuStepTwoComponent,\n    MenuStepThreeComponent,\n    BoardComponent,\n  ],\n  imports: [\n    BrowserModule,\n    MatStepperModule,\n    BrowserAnimationsModule,\n    MatDialogModule,\n    MatButtonModule,\n    MatSnackBarModule,\n    MatTooltipModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent],\n  entryComponents: [ClearBoardDialogComponent]\n})\n\nexport class AppModule { }\n","import { element } from 'protractor';\nimport { TransitionHelper } from './../api/helpers/TransitionHelper';\nimport { NetRepository } from '../api/repositories/NetRepository';\nimport { BoardHelper } from '../api/helpers/BoardHelper';\nimport { ClearBoardDialogComponent } from './components/dialogs/clear-board-dialog/clear-board-dialog.component';\nimport { Component, Inject } from '@angular/core';\nimport {MatDialog, MatDialogRef} from \"@angular/material/dialog\";\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport * as $ from 'jquery';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\n\nexport class AppComponent {\n  title = 'Petri Nets Creator';\n\n  clearBoardDialogRef: MatDialogRef<ClearBoardDialogComponent>;\n  netRepository: NetRepository;\n\n  constructor(private dialog: MatDialog, private snackBar: MatSnackBar, @Inject(NetRepository) netRepository: NetRepository) {\n    this.netRepository = netRepository;\n    this.keyPressEventsHandler();\n  }\n\n  addPlace() {\n    BoardHelper.setDefualtCursor();\n    BoardHelper.getBoard().classList.add('cursor-place');\n    \n    $(BoardHelper.getBoard()).on('click', (event) => {\n      this.netRepository.createPlace(event.pageX, event.pageY);\n    });\n  }\n\n  addTransition() {\n    BoardHelper.setDefualtCursor();\n    BoardHelper.getBoard().classList.add('cursor-transition');\n\n    $(BoardHelper.getBoard()).on('click', (event) => {\n      this.netRepository.createTransition(event.pageX, event.pageY);\n    });\n  }\n\n  addArc() {\n    BoardHelper.setDefualtCursor();\n    BoardHelper.getBoard().classList.add('cursor-arc');\n    let elements = document.getElementsByClassName('net-element');\n    Array.from(elements).forEach(function(element) {\n      element.addEventListener('dblclick', () => {\n        if(element.classList.contains('place')) {\n          Array.from(TransitionHelper.getAll()).forEach(function(element) {\n            element.classList.add('disable-connection');\n          });\n          // get all transitions\n          // set cursor to disable\n          // when transition selected create arc\n        } \n        else if(element.classList.contains('transition')) {\n          alert('transition');\n        }\n      });\n    });\n    // this.netRepository.createArc();\n  }\n\n  keyPressEventsHandler(): void {\n    $(document).off('keypress');\n    $(document).on('keydown', (event) => {\n       if(event.keyCode === 27) { \n        BoardHelper.setDefualtCursor();\n      }\n    });\n\n    $(document).on('keypress', (event) => {\n      if(event.which === 67 || event.which == 99) {\n        this.addArc();\n      }\n      else if(event.which === 80 || event.which == 112) {\n        this.addPlace();  \n      }\n      else if(event.which === 84 || event.which == 116) {\n        this.addTransition();  \n      }\n      else if(event.which === 8 || event.which === 100) {\n        this.deleteSelectedElements();\n      }\n    }); \n  }\n\n  private deleteSelectedElements(): void {\n    let elements = BoardHelper.getSelectedElements();\n    let board = BoardHelper.getBoard();\n\n    Array.from(elements).forEach(element => {\n      board.removeChild(element);\n      let id = element.getAttribute('id').split('-');\n      if(id[0] === 'place') {\n        this.netRepository.placeRepository.deleteElementByID(parseInt(id[1]));\n      } else if(id[0] === 'transition')  {\n        this.netRepository.transitionRepository.deleteElementByID(parseInt(id[1]));\n      }\n    });\n  }\n\n  undo() {\n    this.snackBar.open(\"Undo operation has been performed!\", \"close\", {\n      duration: 2000,\n    });\n  }\n\n  saveNet() {\n    this.snackBar.open(\"Net Model saved!\", \"close\", {\n      duration: 2000,\n    });  }\n\n  createPdf() {\n    this.snackBar.open(\"PDF Created!\", \"close\", {\n      duration: 2000,\n    });\n  }\n\n  openClearBoardDialog() {\n    this.clearBoardDialogRef = this.dialog.open(ClearBoardDialogComponent);\n\n    this.clearBoardDialogRef.afterClosed().subscribe(shouldClearBoard => {\n        if(shouldClearBoard) {\n          this.clear();\n          BoardHelper.addArrowHeadMarker();\n          this.netRepository.removeAllElements();\n        }\n      });    \n  }\n\n  clear() {  \n    let board = BoardHelper.getBoard();\n    while (board.firstChild) {\n        board.removeChild(board.firstChild);\n    }\n\n    BoardHelper.selectedElements = [];\n    this.snackBar.open(\"Board has been cleared!\", \"close\", {\n      duration: 2000,\n    });\n  }\n}\n","<div id=\"content\">\n  <div id=\"sidebar\">\n    <mat-horizontal-stepper id=\"stepper\" labelPosition=\"bottom\">\n      <mat-step>\n        <ng-template matStepLabel>Create</ng-template>\n        <app-menu-step-one \n          (addPlace)=\"addPlace()\"\n          (addTransition)=\"addTransition()\"\n          (addArc)=\"addArc()\">\n        </app-menu-step-one>\n      </mat-step>\n\n      <mat-step>\n        <ng-template matStepLabel>Inspect</ng-template>\n      </mat-step>\n\n      <mat-step>\n        <ng-template matStepLabel>Simulate</ng-template>\n      </mat-step>\n    </mat-horizontal-stepper>\n\n  </div>\n\n  <app-board\n    (openClearBoardDialog)=\"openClearBoardDialog()\"\n    (saveNet)=\"saveNet()\"\n    (createPdf)=\"createPdf()\">\n  </app-board>\n</div>\n\n\n","import { Component, OnInit, Output, EventEmitter } from '@angular/core';\n\n@Component({\n  selector: 'app-board',\n  templateUrl: './board.component.html',\n  styleUrls: ['./board.component.css']\n})\nexport class BoardComponent implements OnInit {\n  @Output(\"createPdf\") createPdfEmitter: EventEmitter<any> = new EventEmitter();\n  @Output(\"saveNet\") saveNetEmitter: EventEmitter<any> = new EventEmitter();\n  @Output(\"openClearBoardDialog\") openClearBoardDialogEmitter: EventEmitter<any> = new EventEmitter();\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n  createPdf(): void {\n    this.createPdfEmitter.emit();\n  }\n\n  saveNet(): void {\n    this.saveNetEmitter.emit();\n  }\n\n  openClearBoardDialog(): void {\n    this.openClearBoardDialogEmitter.emit();\n  }\n}\n","<div id=\"board\">\n    <div id=\"board-header\">\n      <div>\n        <span class=\"material-icons board-button\" matTooltip=\"Create PDF\" matTooltipPosition=\"below\" (click)=\"createPdf()\">picture_as_pdf</span>\n      </div>\n\n      <div>\n        <span class=\"material-icons board-button\" matTooltip=\"Save Net\" matTooltipPosition=\"below\" (click)=\"saveNet()\">save_alt</span>\n      </div>\n\n      <div>\n        <span class=\"material-icons board-button\" matTooltip=\"Clear Board\" matTooltipPosition=\"below\" (click)=\"openClearBoardDialog()\">close</span>\n      </div>\n      \n    </div>\n\n    <svg id=\"svg-board\">\n      <defs>\n        <marker id=\"arrow\" viewBox=\"0 0 10 10\"\n        refX=\"1\" refY=\"5\" \n        markerUnits=\"strokeWidth\"\n        markerWidth=\"10\" markerHeight=\"10\"\n        orient=\"auto\">\n          <path d=\"M 0 0 L 10 5 L 0 10 z\" fill=\"black\"/>\n        </marker>\n      </defs>\n    </svg>\n\n  </div>","import { Component, OnInit, Output, EventEmitter } from '@angular/core';\nimport {MatTooltipModule} from '@angular/material/tooltip';\n\n@Component({\n  selector: 'app-menu-step-one',\n  templateUrl: './menu-step-one.component.html',\n  styleUrls: ['./menu-step-one.component.css']\n})\nexport class MenuStepOneComponent implements OnInit {\n  @Output(\"addPlace\") addNewPlace: EventEmitter<any> = new EventEmitter();\n  @Output(\"addTransition\") addNewTransition: EventEmitter<any> = new EventEmitter();\n  @Output(\"addArc\") addNewArc: EventEmitter<any> = new EventEmitter();\n  \n  constructor() { }\n\n  ngOnInit(): void {\n  }\n  \n  addPlace(): void {\n    this.addNewPlace.emit();\n  }\n  addTransition(): void {\n    this.addNewTransition.emit();\n  }\n\n  addArc(): void {\n    this.addNewArc.emit();\n  }\n}\n","<div>    \n  \n    <div class=\"card-container\">\n      <div class=\"card card-small\" tabindex=\"0\">\n        <span class=\"material-icons\">library_books</span>\n        <span class=\"button-text\">Saved Nets</span>\n      </div>\n    </div>\n\n    <div class=\"card-container\">\n      <div class=\"card card-small\" tabindex=\"0\">\n        <span class=\"material-icons\">edit</span>\n        <span class=\"button-text\">Create from Matrix</span>\n      </div>\n    </div>\n\n\n    <div class=\"card-container\">\n      <div class=\"card card-small\" tabindex=\"0\">\n        <span class=\"material-icons\">remove_red_eye</span> \n        <span class=\"button-text\">Show Net Matrix</span>\n      </div> \n    </div>\n\n    <div class=\"card-container\">\n      <div class=\"card card-small\" tabindex=\"0\">\n        <span class=\"material-icons\">transform</span> \n        <span class=\"button-text\">Minimize Net</span>\n      </div>\n    </div>\n\n    <div class=\"card-container\">\n      <a class=\"square-link\" matTooltip=\"Create Place\" matTooltipPosition=\"above\" (click)=\"addPlace()\">\n        <span class=\"material-icons net-elements-icons\">panorama_fish_eye</span>\n      </a>\n\n      <a class=\"square-link\" matTooltip=\"Create Transition\" matTooltipPosition=\"above\" (click)=\"addTransition()\">\n        <span class=\"net-elements-icons transition-icon\">\n        </span>\n      </a>\n          \n      <a class=\"square-link\" matTooltip=\"Create Arc\" matTooltipPosition=\"above\" (click)=\"addArc()\">\n        <span class=\"material-icons net-elements-icons\" >north_east</span>\n      </a>\n    </div>  \n  </div>","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-menu-step-three',\n  templateUrl: './menu-step-three.component.html',\n  styleUrls: ['./menu-step-three.component.css']\n})\nexport class MenuStepThreeComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<p>menu-step-three works!</p>\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-menu-step-two',\n  templateUrl: './menu-step-two.component.html',\n  styleUrls: ['./menu-step-two.component.css']\n})\nexport class MenuStepTwoComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<p>menu-step-two works!</p>\n","import {Component} from '@angular/core';\nimport {MatDialogRef} from '@angular/material/dialog';\nimport '@angular/material/prebuilt-themes/indigo-pink.css';\n\n@Component({\n    templateUrl: './clear-board-dialog.component.html',\n    styleUrls: ['./clear-board-dialog.component.css']\n})\n\nexport class ClearBoardDialogComponent {\n  deleteChanges: boolean;\n\n  constructor(private dialogRef: MatDialogRef<ClearBoardDialogComponent>) {\n    this.deleteChanges = false;\n  }\n\n  delete() {\n    this.deleteChanges = true;\n    this.dialogRef.close(this.deleteChanges);\n  }\n\n  close() {\n    this.dialogRef.close(this.deleteChanges);\n  }\n}","<h2 mat-dialog-title>Delete all elements?</h2>\n<mat-dialog-content>\n  This will delete all elements that are currently on this page and cannot be undone.\n</mat-dialog-content>\n<mat-dialog-actions>\n  <mat-dialog-actions>\n    <button mat-raised-button color=\"basic\" (click)=\"close()\">Keep Changes</button>\n    <button  mat-raised-button color=\"warn\" (click)=\"delete()\">Delete</button>\n  </mat-dialog-actions>\n</mat-dialog-actions>","export const place_radius = 25;\nexport const place_fill_color = \"white\";\n\nexport const transition_width = 70;\nexport const transition_height = 20;\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import '@angular/compiler';\n\nimport { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"]}